{"version":3,"file":"index.min.js","sources":["../src/utils/errorUtils.ts","../src/core/errorMonitor.ts","../src/core/performanceMonitor.ts","../src/core/routeMonitor.ts","../src/core/stateMonitor.ts","../src/services/reportService.ts","../node_modules/.pnpm/error-stack-parser@2.1.4/node_modules/error-stack-parser/error-stack-parser.js","../node_modules/.pnpm/source-map@0.5.6/node_modules/source-map/lib/util.js","../node_modules/.pnpm/source-map@0.5.6/node_modules/source-map/lib/binary-search.js","../node_modules/.pnpm/source-map@0.5.6/node_modules/source-map/lib/base64.js","../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/rng.js","../node_modules/.pnpm/source-map@0.5.6/node_modules/source-map/lib/quick-sort.js","../node_modules/.pnpm/source-map@0.5.6/node_modules/source-map/lib/source-map-consumer.js","../node_modules/.pnpm/source-map@0.5.6/node_modules/source-map/lib/array-set.js","../node_modules/.pnpm/source-map@0.5.6/node_modules/source-map/lib/base64-vlq.js","../node_modules/.pnpm/stacktrace-gps@3.1.2/node_modules/stacktrace-gps/stacktrace-gps.js","../node_modules/.pnpm/stacktrace-js@2.0.2/node_modules/stacktrace-js/stacktrace.js","../src/services/sourceMapService.ts","../src/services/fallbackService.ts","../src/services/whiteScreenDetector.ts","../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/regex.js","../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/validate.js","../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/stringify.js","../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v35.js","../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/parse.js","../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/md5.js","../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v4.js","../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/sha1.js","../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v3.js","../node_modules/.pnpm/uuid@8.3.2/node_modules/uuid/dist/esm-browser/v5.js","../src/utils/traceManager.ts","../src/types/config.ts","../src/index.ts"],"sourcesContent":["interface ErrorInfo {\n  message: string\n  name: string\n  stack: string\n}\n\nexport function getErrorInfo(error: Error | any): ErrorInfo {\n  if (!error) {\n    return {\n      message: 'Unknown error',\n      name: 'Error',\n      stack: ''\n    }\n  }\n\n  // 如果是 Error 对象\n  if (error instanceof Error) {\n    return {\n      message: error.message || 'Unknown error',\n      name: error.name || 'Error',\n      stack: error.stack || ''\n    }\n  }\n\n  // 如果是字符串\n  if (typeof error === 'string') {\n    return {\n      message: error,\n      name: 'Error',\n      stack: ''\n    }\n  }\n\n  // 如果是对象\n  if (typeof error === 'object') {\n    return {\n      message: error.message || String(error),\n      name: error.name || 'Error',\n      stack: error.stack || ''\n    }\n  }\n\n  // 其他类型\n  return {\n    message: String(error),\n    name: 'Error',\n    stack: ''\n  }\n}\n\nexport function generateErrorId(errorInfo: ErrorInfo): string {\n  // 从错误信息中提取关键部分生成唯一 ID\n  const { name, message, stack } = errorInfo\n\n  // 从堆栈中提取第一行作为错误位置\n  const stackLine = stack.split('\\n')[1] || ''\n  const locationMatch = stackLine.match(/at\\s+(.+):(\\d+):(\\d+)/)\n  const errorLocation = locationMatch ? `${locationMatch[1]}:${locationMatch[2]}` : ''\n\n  // 组合错误 ID\n  const idParts = [name, message.substring(0, 100), errorLocation].filter(Boolean).join('|')\n\n  // 使用简单的哈希函数\n  return hashString(idParts)\n}\n\nfunction hashString(str: string): string {\n  let hash = 0\n\n  if (str.length === 0) {\n    return hash.toString(36)\n  }\n\n  for (let i = 0; i < str.length; i++) {\n    const char = str.charCodeAt(i)\n    hash = (hash << 5) - hash + char\n    hash = hash & hash // Convert to 32bit integer\n  }\n\n  // 转换为更短的字符串\n  return Math.abs(hash).toString(36)\n}\n","import { App, ComponentPublicInstance } from 'vue'\nimport { ReportService } from '../services/reportService'\nimport { SourceMapService } from '../services/sourceMapService'\nimport { ErrorConfig } from '../types/config'\nimport { generateErrorId, getErrorInfo } from '../utils/errorUtils'\n\ndeclare global {\n  interface XMLHttpRequest {\n    _url?: string\n    _method?: string\n  }\n}\n\nexport class ErrorMonitor {\n  private app: App\n  private reportService: ReportService\n  private sourceMapService: SourceMapService\n  private config: ErrorConfig\n  private errorCount: Map<string, number> = new Map()\n  private errorCountResetInterval: number\n\n  constructor(app: App, reportService: ReportService, sourceMapService: SourceMapService, config: ErrorConfig) {\n    this.app = app\n    this.reportService = reportService\n    this.sourceMapService = sourceMapService\n    this.config = config\n\n    // 每分钟重置错误计数\n    this.errorCountResetInterval = window.setInterval(() => {\n      this.errorCount.clear()\n    }, 60000)\n\n    this.app.config.globalProperties.$errorMonitor = this\n\n    this.init()\n  }\n\n  private init(): void {\n    if (this.config.captureGlobalErrors) {\n      this.setupGlobalErrorHandler()\n    }\n\n    if (this.config.capturePromiseErrors) {\n      this.setupPromiseErrorHandler()\n    }\n\n    if (this.config.captureAjaxErrors) {\n      this.setupAjaxErrorHandler()\n    }\n\n    if (this.config.captureResourceErrors) {\n      this.setupResourceErrorHandler()\n    }\n  }\n\n  private setupGlobalErrorHandler(): void {\n    window.addEventListener(\n      'error',\n      event => {\n        // 忽略资源加载错误，这些由 setupResourceErrorHandler 处理\n        if (event.error && !this.isResourceError(event)) {\n          this.handleJsError(event.error, {\n            filename: event.filename,\n            lineno: event.lineno,\n            colno: event.colno,\n            message: event.message\n          })\n        }\n        return true // 不阻止默认处理\n      },\n      true\n    )\n  }\n\n  private setupPromiseErrorHandler(): void {\n    window.addEventListener('unhandledrejection', event => {\n      const error = event.reason instanceof Error ? event.reason : new Error(String(event.reason))\n\n      this.handleJsError(error, {\n        type: 'unhandledrejection',\n        message: String(event.reason)\n      })\n    })\n  }\n\n  private setupAjaxErrorHandler(): void {\n    const originalXhrOpen = XMLHttpRequest.prototype.open\n    const originalXhrSend = XMLHttpRequest.prototype.send\n    const originalFetch = window.fetch\n    const self = this\n\n    // 拦截 XMLHttpRequest\n    XMLHttpRequest.prototype.open = function (\n      method: string,\n      url: string,\n      async: boolean = true,\n      username?: string | null,\n      password?: string | null\n    ) {\n      this._url = url\n      this._method = method\n      return originalXhrOpen.apply(this, [method, url, async, username, password])\n    }\n\n    XMLHttpRequest.prototype.send = function (...args) {\n      this.addEventListener('error', function () {\n        self.handleNetworkError(new Error(`XHR Error: ${this._url}`), {\n          url: this._url,\n          method: this._method,\n          status: this.status,\n          statusText: this.statusText\n        })\n      })\n\n      this.addEventListener('timeout', function () {\n        self.handleNetworkError(new Error(`XHR Timeout: ${this._url}`), {\n          url: this._url,\n          method: this._method,\n          timeout: this.timeout\n        })\n      })\n\n      return originalXhrSend.apply(this, args)\n    }\n\n    // 拦截 Fetch\n    window.fetch = function (...args) {\n      const url = typeof args[0] === 'string' ? args[0] : (args[0] as Request).url\n      const method = args[1]?.method || 'GET'\n\n      return originalFetch.apply(window, args).catch(error => {\n        self.handleNetworkError(error, {\n          url,\n          method\n        })\n        throw error\n      })\n    }\n  }\n\n  private setupResourceErrorHandler(): void {\n    window.addEventListener(\n      'error',\n      event => {\n        if (this.isResourceError(event)) {\n          const target = event.target as HTMLElement\n          const tagName = target.tagName.toLowerCase()\n\n          this.handleResourceError(new Error(`Failed to load ${tagName}`), {\n            tagName,\n            src: (target as HTMLImageElement | HTMLScriptElement).src || (target as HTMLLinkElement).href,\n            type: target.getAttribute('type'),\n            id: target.id,\n            className: target.className\n          })\n        }\n        return true\n      },\n      true\n    )\n  }\n\n  private isResourceError(event: ErrorEvent): boolean {\n    const target = event.target as HTMLElement\n    return (\n      target instanceof HTMLElement &&\n      (target.tagName === 'IMG' ||\n        target.tagName === 'SCRIPT' ||\n        target.tagName === 'LINK' ||\n        target.tagName === 'AUDIO' ||\n        target.tagName === 'VIDEO')\n    )\n  }\n\n  public handleJsError(error: Error, context: Record<string, any> = {}): void {\n    if (this.shouldIgnoreError(error)) {\n      return\n    }\n\n    if (this.isRateLimited(error)) {\n      return\n    }\n\n    this.processAndReportError(error, {\n      type: 'js_error',\n      ...context\n    })\n  }\n\n  public handleComponentError(error: Error, instance: ComponentPublicInstance | null, info: string): void {\n    if (this.shouldIgnoreError(error)) {\n      return\n    }\n\n    if (this.isRateLimited(error)) {\n      return\n    }\n\n    const componentName = instance ? instance.$options.name || 'AnonymousComponent' : 'Unknown'\n\n    this.processAndReportError(error, {\n      type: 'vue_error',\n      componentName,\n      lifecycleHook: info,\n      componentData: instance ? this.sanitizeComponentData(instance.$data) : null\n    })\n  }\n\n  private handleNetworkError(error: Error, context: Record<string, any> = {}): void {\n    if (this.shouldIgnoreError(error)) {\n      return\n    }\n\n    if (this.isRateLimited(error)) {\n      return\n    }\n\n    this.processAndReportError(error, {\n      type: 'network_error',\n      ...context\n    })\n  }\n\n  private handleResourceError(error: Error, context: Record<string, any> = {}): void {\n    if (this.shouldIgnoreError(error)) {\n      return\n    }\n\n    if (this.isRateLimited(error)) {\n      return\n    }\n\n    this.processAndReportError(error, {\n      type: 'resource_error',\n      ...context\n    })\n  }\n\n  private async processAndReportError(error: Error, context: Record<string, any> = {}): Promise<void> {\n    const errorInfo = getErrorInfo(error)\n    const errorId = generateErrorId(errorInfo)\n\n    // 使用 SourceMap 服务解析错误堆栈\n    let stackFrames = errorInfo.stack\n    if (this.sourceMapService.isEnabled()) {\n      try {\n        stackFrames = await this.sourceMapService.mapStackTrace(errorInfo.stack)\n      } catch (e) {\n        console.error('Failed to map stack trace:', e)\n      }\n    }\n\n    const reportData = {\n      errorId,\n      message: errorInfo.message,\n      stack: stackFrames,\n      type: context.type || 'unknown',\n      url: window.location.href,\n      userAgent: navigator.userAgent,\n      timestamp: new Date().toISOString(),\n      context\n    }\n\n    this.reportService.reportError(reportData)\n  }\n\n  private shouldIgnoreError(error: Error): boolean {\n    if (!error) return true\n\n    const message = error.message || ''\n\n    return (this.config.ignoreErrors || []).some(pattern => {\n      if (pattern instanceof RegExp) {\n        return pattern.test(message)\n      }\n      return message.includes(pattern)\n    })\n  }\n\n  private isRateLimited(error: Error): boolean {\n    const errorId = generateErrorId(getErrorInfo(error))\n    const count = (this.errorCount.get(errorId) || 0) + 1\n    this.errorCount.set(errorId, count)\n\n    return count > this.config.maxErrorsPerMinute\n  }\n\n  private sanitizeComponentData(data: any): any {\n    if (!data) return null\n\n    try {\n      // 简单的深拷贝，移除可能的循环引用\n      return JSON.parse(JSON.stringify(data))\n    } catch (e) {\n      // 如果数据无法序列化，返回简化版本\n      return Object.keys(data).reduce(\n        (acc, key) => {\n          const value = data[key]\n          acc[key] = typeof value === 'object' ? '[Complex Object]' : value\n          return acc\n        },\n        {} as Record<string, any>\n      )\n    }\n  }\n\n  public destroy(): void {\n    clearInterval(this.errorCountResetInterval)\n    // 清理其他可能的事件监听器\n  }\n}\n","import { ReportService } from '../services/reportService'\nimport { PerformanceConfig } from '../types/config'\n\nexport class PerformanceMonitor {\n  private reportService: ReportService\n  private config: PerformanceConfig\n  private metricsInterval: number | null = null\n  private frameRateInterval: number | null = null\n  private longTaskObserver: any = null\n  private resourceObserver: any = null\n\n  constructor(reportService: ReportService, config: PerformanceConfig) {\n    this.reportService = reportService\n    this.config = config\n    this.init()\n  }\n\n  private init(): void {\n    if (this.config.capturePageLoad) {\n      this.capturePageLoadMetrics()\n    }\n\n    if (this.config.capturePaint) {\n      this.capturePaintMetrics()\n    }\n\n    if (this.config.captureMemory) {\n      this.startMemoryMonitoring()\n    }\n\n    if (this.config.captureFrameRate) {\n      this.startFrameRateMonitoring()\n    }\n\n    if (this.config.resourceTiming) {\n      this.observeResourceTiming()\n    }\n\n    // 监控长任务\n    this.observeLongTasks()\n\n    // Web Vitals 指标\n    this.captureWebVitals()\n  }\n\n  private capturePageLoadMetrics(): void {\n    window.addEventListener('load', () => {\n      setTimeout(() => {\n        const perfData = window.performance.timing\n        const pageLoadTime = perfData.loadEventEnd - perfData.navigationStart\n        const dnsTime = perfData.domainLookupEnd - perfData.domainLookupStart\n        const tcpTime = perfData.connectEnd - perfData.connectStart\n        const ttfb = perfData.responseStart - perfData.requestStart\n        const domReadyTime = perfData.domContentLoadedEventEnd - perfData.navigationStart\n        const domInteractive = perfData.domInteractive - perfData.navigationStart\n\n        this.reportService.reportPerformance({\n          type: 'page_load',\n          metrics: {\n            pageLoadTime,\n            dnsTime,\n            tcpTime,\n            ttfb,\n            domReadyTime,\n            domInteractive\n          },\n          url: window.location.href,\n          timestamp: new Date().toISOString()\n        })\n      }, 0)\n    })\n  }\n\n  private capturePaintMetrics(): void {\n    const observer = new PerformanceObserver(list => {\n      const entries = list.getEntries()\n\n      entries.forEach(entry => {\n        if (entry.name === 'first-paint' || entry.name === 'first-contentful-paint') {\n          this.reportService.reportPerformance({\n            type: 'paint',\n            metrics: {\n              name: entry.name,\n              startTime: entry.startTime\n            },\n            url: window.location.href,\n            timestamp: new Date().toISOString()\n          })\n        }\n      })\n    })\n\n    observer.observe({ entryTypes: ['paint'] })\n  }\n\n  private startMemoryMonitoring(): void {\n    if (performance && (performance as any).memory) {\n      this.metricsInterval = window.setInterval(() => {\n        const memoryInfo = (performance as any).memory\n\n        this.reportService.reportPerformance({\n          type: 'memory',\n          metrics: {\n            jsHeapSizeLimit: memoryInfo.jsHeapSizeLimit,\n            totalJSHeapSize: memoryInfo.totalJSHeapSize,\n            usedJSHeapSize: memoryInfo.usedJSHeapSize\n          },\n          url: window.location.href,\n          timestamp: new Date().toISOString()\n        })\n      }, 30000) // 每30秒采集一次\n    }\n  }\n\n  private startFrameRateMonitoring(): void {\n    let lastTime = performance.now()\n    let frames = 0\n\n    const calculateFPS = () => {\n      const now = performance.now()\n      const delta = now - lastTime\n\n      if (delta >= 1000) {\n        const fps = Math.round((frames * 1000) / delta)\n\n        this.reportService.reportPerformance({\n          type: 'fps',\n          metrics: { fps },\n          url: window.location.href,\n          timestamp: new Date().toISOString()\n        })\n\n        frames = 0\n        lastTime = now\n      }\n\n      frames++\n      requestAnimationFrame(calculateFPS)\n    }\n\n    requestAnimationFrame(calculateFPS)\n  }\n\n  private observeResourceTiming(): void {\n    this.resourceObserver = new PerformanceObserver(list => {\n      const entries = list.getEntries()\n\n      entries.forEach(entry => {\n        if (\n          ['script', 'link', 'img', 'css', 'fetch', 'xmlhttprequest'].includes(\n            (entry as PerformanceResourceTiming).initiatorType\n          )\n        ) {\n          this.reportService.reportPerformance({\n            type: 'resource',\n            metrics: {\n              name: entry.name,\n              initiatorType: (entry as PerformanceResourceTiming).initiatorType,\n              duration: entry.duration,\n              transferSize: (entry as PerformanceResourceTiming).transferSize || 0,\n              decodedBodySize: (entry as PerformanceResourceTiming).decodedBodySize || 0\n            },\n            url: window.location.href,\n            timestamp: new Date().toISOString()\n          })\n        }\n      })\n    })\n\n    this.resourceObserver.observe({ entryTypes: ['resource'] })\n  }\n\n  private observeLongTasks(): void {\n    if ('PerformanceLongTaskTiming' in window) {\n      this.longTaskObserver = new PerformanceObserver(list => {\n        const entries = list.getEntries()\n\n        entries.forEach(entry => {\n          if (entry.duration > this.config.longTaskThreshold) {\n            this.reportService.reportPerformance({\n              type: 'long_task',\n              metrics: {\n                duration: entry.duration,\n                startTime: entry.startTime\n              },\n              url: window.location.href,\n              timestamp: new Date().toISOString()\n            })\n          }\n        })\n      })\n\n      this.longTaskObserver.observe({ entryTypes: ['longtask'] })\n    }\n  }\n\n  private captureWebVitals(): void {\n    if (this.config.captureFirstContentfulPaint) {\n      this.captureFCP()\n    }\n\n    if (this.config.captureLargestContentfulPaint) {\n      this.captureLCP()\n    }\n\n    if (this.config.captureFirstInputDelay) {\n      this.captureFID()\n    }\n\n    if (this.config.captureCumulativeLayoutShift) {\n      this.captureCLS()\n    }\n  }\n\n  private captureFCP(): void {\n    const fcpObserver = new PerformanceObserver(list => {\n      const entries = list.getEntries()\n      entries.forEach(entry => {\n        this.reportService.reportPerformance({\n          type: 'web_vital',\n          name: 'FCP',\n          metrics: {\n            value: entry.startTime,\n            rating: this.getRating('FCP', entry.startTime)\n          },\n          url: window.location.href,\n          timestamp: new Date().toISOString()\n        })\n      })\n      fcpObserver.disconnect()\n    })\n\n    fcpObserver.observe({ type: 'paint', buffered: true })\n  }\n\n  private captureLCP(): void {\n    let lcp: PerformanceEntry | null = null\n\n    const lcpObserver = new PerformanceObserver(list => {\n      const entries = list.getEntries()\n      // 取最后一个 LCP 事件\n      lcp = entries[entries.length - 1]\n    })\n\n    lcpObserver.observe({ type: 'largest-contentful-paint', buffered: true })\n\n    // 页面卸载时报告最终 LCP 值\n    window.addEventListener('visibilitychange', () => {\n      if (document.visibilityState === 'hidden' && lcp) {\n        this.reportService.reportPerformance({\n          type: 'web_vital',\n          name: 'LCP',\n          metrics: {\n            value: lcp.startTime,\n            rating: this.getRating('LCP', lcp.startTime),\n            element: (lcp as any).element ? (lcp as any).element.tagName : null\n          },\n          url: window.location.href,\n          timestamp: new Date().toISOString()\n        })\n        lcpObserver.disconnect()\n      }\n    })\n  }\n\n  private captureFID(): void {\n    const fidObserver = new PerformanceObserver(list => {\n      const entries = list.getEntries()\n      entries.forEach(entry => {\n        // Cast to PerformanceEventTiming to access processingStart\n        this.reportService.reportPerformance({\n          type: 'web_vital',\n          name: 'FID',\n          metrics: {\n            value: (entry as PerformanceEventTiming).processingStart - entry.startTime,\n            rating: this.getRating('FID', (entry as PerformanceEventTiming).processingStart - entry.startTime)\n          },\n          url: window.location.href,\n          timestamp: new Date().toISOString()\n        })\n      })\n    })\n\n    fidObserver.observe({ type: 'first-input', buffered: true })\n  }\n\n  private captureCLS(): void {\n    let clsValue = 0\n    let clsEntries: PerformanceEntry[] = []\n\n    const clsObserver = new PerformanceObserver(list => {\n      const entries = list.getEntries()\n\n      entries.forEach(entry => {\n        // 不计算用户交互后 500ms 内的布局偏移\n        if (!(entry as any).hadRecentInput) {\n          clsValue += (entry as any).value\n          clsEntries.push(entry)\n        }\n      })\n    })\n\n    clsObserver.observe({ type: 'layout-shift', buffered: true })\n\n    // 页面卸载时报告累积的 CLS 值\n    window.addEventListener('visibilitychange', () => {\n      if (document.visibilityState === 'hidden') {\n        this.reportService.reportPerformance({\n          type: 'web_vital',\n          name: 'CLS',\n          metrics: {\n            value: clsValue,\n            rating: this.getRating('CLS', clsValue),\n            entries: clsEntries.length\n          },\n          url: window.location.href,\n          timestamp: new Date().toISOString()\n        })\n      }\n    })\n  }\n\n  private getRating(metric: string, value: number): 'good' | 'needs-improvement' | 'poor' {\n    switch (metric) {\n      case 'FCP':\n        return value <= 1800 ? 'good' : value <= 3000 ? 'needs-improvement' : 'poor'\n      case 'LCP':\n        return value <= 2500 ? 'good' : value <= 4000 ? 'needs-improvement' : 'poor'\n      case 'FID':\n        return value <= 100 ? 'good' : value <= 300 ? 'needs-improvement' : 'poor'\n      case 'CLS':\n        return value <= 0.1 ? 'good' : value <= 0.25 ? 'needs-improvement' : 'poor'\n      default:\n        return 'needs-improvement'\n    }\n  }\n\n  public destroy(): void {\n    if (this.metricsInterval) {\n      clearInterval(this.metricsInterval)\n    }\n\n    if (this.frameRateInterval) {\n      clearInterval(this.frameRateInterval)\n    }\n\n    if (this.longTaskObserver) {\n      this.longTaskObserver.disconnect()\n    }\n\n    if (this.resourceObserver) {\n      this.resourceObserver.disconnect()\n    }\n  }\n}\n","import { Router } from 'vue-router'\nimport { ReportService } from '../services/reportService'\nimport { TraceManager } from '../utils/traceManager'\nimport { RouteConfig } from '../types/config'\n\nexport class RouteMonitor {\n  private router: Router\n  private reportService: ReportService\n  private traceManager: TraceManager\n  private config: RouteConfig\n  private routeStartTime: number = 0\n  private currentRoute: string = ''\n\n  constructor(router: Router, reportService: ReportService, traceManager: TraceManager, config: RouteConfig) {\n    this.router = router\n    this.reportService = reportService\n    this.traceManager = traceManager\n    this.config = config\n    this.init()\n  }\n\n  private init(): void {\n    // 路由开始变化前\n    this.router.beforeEach((to, from, next) => {\n      // 记录路由开始时间\n      this.routeStartTime = performance.now()\n\n      // 生成新的 traceId 用于跟踪整个页面生命周期\n      const traceId = this.traceManager.generateTraceId()\n      this.traceManager.setTraceId(traceId)\n\n      // 记录当前路由\n      this.currentRoute = to.fullPath\n\n      // 上报路由开始事件\n      this.reportRouteChange('route_start', to, from)\n\n      next()\n    })\n\n    // 路由变化后\n    this.router.afterEach((to, from) => {\n      const duration = performance.now() - this.routeStartTime\n\n      // 上报路由完成事件\n      this.reportRouteChange('route_complete', to, from, duration)\n    })\n\n    // 路由错误\n    this.router.onError(error => {\n      this.reportService.reportError({\n        type: 'route_error',\n        message: error.message,\n        stack: error.stack,\n        url: window.location.href,\n        route: this.currentRoute,\n        traceId: this.traceManager.getTraceId(),\n        timestamp: new Date().toISOString()\n      })\n    })\n  }\n\n  private reportRouteChange(eventType: 'route_start' | 'route_complete', to: any, from: any, duration?: number): void {\n    // 检查是否应该忽略此路径\n    if (this.config.ignorePaths && this.config.ignorePaths.some(path => to.path.includes(path))) {\n      return\n    }\n\n    const reportData: any = {\n      type: eventType,\n      from: this.sanitizeRouteData(from),\n      to: this.sanitizeRouteData(to),\n      timestamp: new Date().toISOString(),\n      traceId: this.traceManager.getTraceId()\n    }\n\n    if (duration !== undefined) {\n      reportData.duration = duration\n    }\n\n    this.reportService.reportPerformance(reportData)\n  }\n\n  private sanitizeRouteData(route: any): any {\n    if (!route) return null\n\n    const result: any = {\n      path: route.path,\n      name: route.name\n    }\n\n    if (this.config.captureParams) {\n      result.params = route.params\n    }\n\n    if (this.config.captureQuery) {\n      result.query = route.query\n    }\n\n    if (this.config.captureHash) {\n      result.hash = route.hash\n    }\n\n    return result\n  }\n}\n","import { ReportService } from '../services/reportService'\nimport { StateConfig } from '../types/config'\n\nexport class StateMonitor {\n  private reportService: ReportService\n  private config: StateConfig\n  private stateSnapshotInterval: number | null = null\n\n  constructor(reportService: ReportService, config: StateConfig) {\n    this.reportService = reportService\n    this.config = config\n    this.init()\n  }\n\n  private init(): void {\n    // 监控 Vuex\n    if (this.config.vuex && this.config.captureState) {\n      this.setupVuexMonitoring()\n    }\n\n    // 监控 Pinia\n    if (this.config.pinia && this.config.captureState) {\n      this.setupPiniaMonitoring()\n    }\n\n    // 定期捕获状态快照\n    if (this.config.stateSnapshotInterval > 0) {\n      this.startStateSnapshotCapture()\n    }\n  }\n\n  private setupVuexMonitoring(): void {\n    const store = this.config.vuex\n\n    if (this.config.captureActions) {\n      store.subscribeAction({\n        before: (action: any) => {\n          this.reportStateChange('vuex_action_before', action.type, action.payload)\n        },\n        after: (action: any) => {\n          this.reportStateChange('vuex_action_after', action.type, action.payload)\n        },\n        error: (action: any, error: Error) => {\n          this.reportStateError('vuex_action_error', action.type, error)\n        }\n      })\n    }\n\n    if (this.config.captureMutations) {\n      store.subscribe((mutation: any) => {\n        this.reportStateChange('vuex_mutation', mutation.type, mutation.payload)\n      })\n    }\n  }\n\n  private setupPiniaMonitoring(): void {\n    const pinia = this.config.pinia\n\n    // 监听所有 store 的变化\n    pinia.use(({ store }: any) => {\n      // 监听 actions\n      if (this.config.captureActions) {\n        store.$onAction(({ name, args, after, onError }: any) => {\n          this.reportStateChange('pinia_action_before', `${store.$id}/${name}`, args[0])\n\n          after((result: any) => {\n            this.reportStateChange('pinia_action_after', `${store.$id}/${name}`, result)\n          })\n\n          onError((error: Error) => {\n            this.reportStateError('pinia_action_error', `${store.$id}/${name}`, error)\n          })\n        })\n      }\n\n      // 监听 state 变化\n      if (this.config.captureMutations) {\n        store.$subscribe((mutation: any) => {\n          this.reportStateChange('pinia_state_change', store.$id, {\n            type: mutation.type,\n            events: mutation.events\n          })\n        })\n      }\n    })\n  }\n\n  private startStateSnapshotCapture(): void {\n    this.stateSnapshotInterval = window.setInterval(() => {\n      let stateSnapshot: any = {}\n\n      // 捕获 Vuex 状态\n      if (this.config.vuex) {\n        stateSnapshot.vuex = this.sanitizeState(this.config.vuex.state)\n      }\n\n      // 捕获 Pinia 状态\n      if (this.config.pinia) {\n        stateSnapshot.pinia = {}\n        const stores = Object.keys(this.config.pinia.state.value)\n\n        stores.forEach(storeId => {\n          stateSnapshot.pinia[storeId] = this.sanitizeState(this.config.pinia.state.value[storeId])\n        })\n      }\n\n      this.reportService.reportPerformance({\n        type: 'state_snapshot',\n        state: stateSnapshot,\n        timestamp: new Date().toISOString()\n      })\n    }, this.config.stateSnapshotInterval)\n  }\n\n  private reportStateChange(type: string, action: string, payload: any): void {\n    this.reportService.reportPerformance({\n      type,\n      action,\n      payload: this.sanitizePayload(payload),\n      timestamp: new Date().toISOString()\n    })\n  }\n\n  private reportStateError(type: string, action: string, error: Error): void {\n    this.reportService.reportError({\n      type,\n      action,\n      message: error.message,\n      stack: error.stack,\n      timestamp: new Date().toISOString()\n    })\n  }\n\n  private sanitizeState(state: any): any {\n    if (!state) return null\n\n    try {\n      const serialized = JSON.stringify(state)\n\n      // 检查状态大小是否超过限制\n      if (serialized.length > this.config.maxStateSize) {\n        return {\n          _truncated: true,\n          _size: serialized.length,\n          _keys: Object.keys(state)\n        }\n      }\n\n      return JSON.parse(serialized)\n    } catch (e) {\n      // 如果状态无法序列化，返回键列表\n      return {\n        _error: 'Cannot serialize state',\n        _keys: Object.keys(state)\n      }\n    }\n  }\n\n  private sanitizePayload(payload: any): any {\n    if (!payload) return null\n\n    try {\n      return JSON.parse(JSON.stringify(payload))\n    } catch (e) {\n      return {\n        _error: 'Cannot serialize payload',\n        _type: typeof payload\n      }\n    }\n  }\n\n  public destroy(): void {\n    if (this.stateSnapshotInterval) {\n      clearInterval(this.stateSnapshotInterval)\n    }\n  }\n}\n","import { ReportConfig } from '../types/config'\n\ninterface ReportItem {\n  id: string\n  data: any\n  timestamp: number\n  retryCount: number\n}\n\nexport class ReportService {\n  private config: ReportConfig\n  private queue: ReportItem[] = []\n  private sending: boolean = false\n  private batchInterval: number | null = null\n  private offlineQueue: ReportItem[] = []\n  private isOnline: boolean = navigator.onLine\n\n  constructor(config: ReportConfig) {\n    this.config = config\n    this.init()\n  }\n\n  private init(): void {\n    // 设置批量上报定时器\n    if (this.config.batchReport) {\n      this.batchInterval = window.setInterval(() => {\n        this.processBatch()\n      }, this.config.batchInterval)\n    }\n\n    // 监听网络状态变化\n    window.addEventListener('online', this.handleOnline.bind(this))\n    window.addEventListener('offline', this.handleOffline.bind(this))\n\n    // 页面卸载前尝试发送所有数据\n    window.addEventListener('beforeunload', this.handleBeforeUnload.bind(this))\n  }\n\n  public reportError(data: any): void {\n    // 采样率过滤\n    if (Math.random() > (this.config.sampleRate || 1)) {\n      return\n    }\n\n    // 根据日志级别过滤\n    if (this.config.reportLevel === 'error' && data.level !== 'error') {\n      return\n    }\n\n    const reportItem: ReportItem = {\n      id: this.generateId(),\n      data: {\n        ...data,\n        appId: this.config.appId,\n        appVersion: this.config.appVersion,\n        environment: this.config.environment,\n        category: 'error',\n      },\n      timestamp: Date.now(),\n      retryCount: 0,\n    }\n\n    // 前置处理钩子\n    if (this.config.beforeReport) {\n      const processedData = this.config.beforeReport(reportItem.data)\n      if (processedData === false) {\n        return // 被钩子函数拦截\n      }\n      if (processedData) {\n        reportItem.data = processedData\n      }\n    }\n\n    // 集成第三方服务\n    this.sendToIntegrations(reportItem.data)\n\n    // 添加到队列\n    if (this.config.batchReport) {\n      this.queue.push(reportItem)\n\n      // 如果队列达到批处理大小，立即处理\n      if (this.queue.length >= this.config.batchSize) {\n        this.processBatch()\n      }\n    } else {\n      this.sendReport(reportItem)\n    }\n  }\n\n  public reportPerformance(data: any): void {\n    // 采样率过滤\n    if (Math.random() > (this.config.sampleRate || 1)) {\n      return\n    }\n\n    const reportItem: ReportItem = {\n      id: this.generateId(),\n      data: {\n        ...data,\n        appId: this.config.appId,\n        appVersion: this.config.appVersion,\n        environment: this.config.environment,\n        category: 'performance',\n      },\n      timestamp: Date.now(),\n      retryCount: 0,\n    }\n\n    // 前置处理钩子\n    if (this.config.beforeReport) {\n      const processedData = this.config.beforeReport(reportItem.data)\n      if (processedData === false) {\n        return // 被钩子函数拦截\n      }\n      if (processedData) {\n        reportItem.data = processedData\n      }\n    }\n\n    // 添加到队列\n    if (this.config.batchReport) {\n      this.queue.push(reportItem)\n    } else {\n      this.sendReport(reportItem)\n    }\n  }\n\n  private processBatch(): void {\n    if (this.sending || this.queue.length === 0) {\n      return\n    }\n\n    this.sending = true\n\n    // 取出当前批次的数据\n    const batch = this.queue.splice(0, this.config.batchSize)\n\n    // 如果离线，添加到离线队列\n    if (!this.isOnline) {\n      this.offlineQueue.push(...batch)\n      this.sending = false\n      return\n    }\n\n    // 发送批量数据\n    this.sendBatchReport(batch)\n      .catch(() => {\n        // 发送失败，重新加入队列等待重试\n        batch.forEach((item) => {\n          item.retryCount++\n          if (item.retryCount <= this.config.maxRetryCount) {\n            this.queue.unshift(item)\n          }\n        })\n      })\n      .finally(() => {\n        this.sending = false\n\n        // 如果队列中还有数据，继续处理\n        if (this.queue.length > 0) {\n          setTimeout(() => this.processBatch(), 0)\n        }\n      })\n  }\n\n  private async sendBatchReport(batch: ReportItem[]): Promise<void> {\n    try {\n      const response = await fetch(this.config.endpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...this.config.headers,\n        },\n        body: JSON.stringify({\n          batch: batch.map((item) => item.data),\n          timestamp: Date.now(),\n        }),\n        // 在页面卸载时使用 keepalive\n        keepalive: true,\n      })\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`)\n      }\n    } catch (error) {\n      console.error('Error sending batch report:', error)\n      throw error\n    }\n  }\n\n  private async sendReport(item: ReportItem): Promise<void> {\n    // 如果离线，添加到离线队列\n    if (!this.isOnline) {\n      this.offlineQueue.push(item)\n      return\n    }\n\n    try {\n      // 尝试使用 Beacon API (适用于页面卸载时)\n      if (this.config.useBeacon && navigator.sendBeacon) {\n        const blob = new Blob([JSON.stringify(item.data)], {\n          type: 'application/json',\n        })\n        const success = navigator.sendBeacon(this.config.endpoint, blob)\n\n        if (success) {\n          return\n        }\n      }\n\n      // 回退到 fetch\n      const response = await fetch(this.config.endpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...this.config.headers,\n        },\n        body: JSON.stringify(item.data),\n        // 在页面卸载时使用 keepalive\n        keepalive: true,\n      })\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`)\n      }\n    } catch (error) {\n      console.error('Error sending report:', error)\n\n      // 重试逻辑\n      item.retryCount++\n      if (item.retryCount <= this.config.maxRetryCount) {\n        setTimeout(() => {\n          this.sendReport(item)\n        }, this.config.retryInterval)\n      }\n    }\n  }\n\n  private handleOnline(): void {\n    this.isOnline = true\n\n    // 尝试发送离线队列中的数据\n    if (this.offlineQueue.length > 0) {\n      const offlineItems = [...this.offlineQueue]\n      this.offlineQueue = []\n\n      // 将离线数据重新加入队列\n      if (this.config.batchReport) {\n        this.queue.unshift(...offlineItems)\n        this.processBatch()\n      } else {\n        offlineItems.forEach((item) => this.sendReport(item))\n      }\n    }\n  }\n\n  private handleOffline(): void {\n    this.isOnline = false\n  }\n\n  private handleBeforeUnload(): void {\n    // 清除批处理定时器\n    if (this.batchInterval) {\n      clearInterval(this.batchInterval)\n    }\n\n    // 尝试发送所有剩余数据\n    if (this.queue.length > 0 && this.isOnline) {\n      // 使用 sendBeacon 发送剩余数据\n      if (navigator.sendBeacon && this.config.useBeacon) {\n        const blob = new Blob(\n          [\n            JSON.stringify({\n              batch: this.queue.map((item) => item.data),\n              timestamp: Date.now(),\n            }),\n          ],\n          { type: 'application/json' },\n        )\n\n        navigator.sendBeacon(this.config.endpoint, blob)\n      }\n    }\n  }\n\n  private sendToIntegrations(data: any): void {\n    const integrations = this.config.integrations\n    if (!integrations) return\n\n    // Sentry 集成\n    if (integrations.sentry?.enabled && window.Sentry) {\n      try {\n        window.Sentry.captureException(data.error || new Error(data.message), {\n          extra: data,\n        })\n      } catch (e) {\n        console.error('Failed to send to Sentry:', e)\n      }\n    }\n\n    // LogRocket 集成\n    if (integrations.logRocket?.enabled && window.LogRocket) {\n      try {\n        window.LogRocket.captureException(\n          data.error || new Error(data.message),\n          {\n            extra: data,\n          },\n        )\n      } catch (e) {\n        console.error('Failed to send to LogRocket:', e)\n      }\n    }\n\n    // 阿里云日志服务集成\n    if (integrations.aliyunSls?.enabled && window.AliyunSLS) {\n      try {\n        window.AliyunSLS.send({\n          project: integrations.aliyunSls.project,\n          logstore: integrations.aliyunSls.logstore,\n          time: Math.floor(Date.now() / 1000),\n          contents: this.flattenObject(data),\n        })\n      } catch (e) {\n        console.error('Failed to send to Aliyun SLS:', e)\n      }\n    }\n  }\n\n  private flattenObject(obj: any, prefix: string = ''): Record<string, string> {\n    const result: Record<string, string> = {}\n\n    for (const key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        const value = obj[key]\n        const newKey = prefix ? `${prefix}.${key}` : key\n\n        if (typeof value === 'object' && value !== null) {\n          Object.assign(result, this.flattenObject(value, newKey))\n        } else {\n          result[newKey] = String(value)\n        }\n      }\n    }\n\n    return result\n  }\n\n  private generateId(): string {\n    return Date.now().toString(36) + Math.random().toString(36).substr(2, 5)\n  }\n\n  public destroy(): void {\n    if (this.batchInterval) {\n      clearInterval(this.batchInterval)\n    }\n\n    window.removeEventListener('online', this.handleOnline.bind(this))\n    window.removeEventListener('offline', this.handleOffline.bind(this))\n    window.removeEventListener(\n      'beforeunload',\n      this.handleBeforeUnload.bind(this),\n    )\n  }\n}\n\n// 为第三方集成声明全局类型\ndeclare global {\n  interface Window {\n    Sentry?: any\n    LogRocket?: any\n    AliyunSLS?: any\n  }\n}\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(,.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(').replace(/^.*?\\s+/, '');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\(.+\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                // if a location was matched, pass it to extractLocation() otherwise pass all sanitizedLine\n                // because this line doesn't have function name\n                var locationParts = this.extractLocation(location ? location[1] : sanitizedLine);\n                var functionName = location && sanitizedLine || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.]*)(?::(\\d+))?(\\S*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n\n  var parts = path.split(/\\/+/);\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n}\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || !!aPath.match(urlRegexp);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = mappingA.source - mappingB.source;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return mappingA.name - mappingB.name;\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = mappingA.source - mappingB.source;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return mappingA.name - mappingB.name;\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nexports.GREATEST_LOWER_BOUND = 1;\nexports.LEAST_UPPER_BOUND = 2;\n\n/**\n * Recursive implementation of binary search.\n *\n * @param aLow Indices here and lower do not contain the needle.\n * @param aHigh Indices here and higher do not contain the needle.\n * @param aNeedle The element being searched for.\n * @param aHaystack The non-empty array being searched.\n * @param aCompare Function which takes two elements and returns -1, 0, or 1.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n */\nfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\n  // This function terminates when one of the following is true:\n  //\n  //   1. We find the exact element we are looking for.\n  //\n  //   2. We did not find the exact element, but we can return the index of\n  //      the next-closest element.\n  //\n  //   3. We did not find the exact element, and there is no next-closest\n  //      element than the one we are searching for, so we return -1.\n  var mid = Math.floor((aHigh - aLow) / 2) + aLow;\n  var cmp = aCompare(aNeedle, aHaystack[mid], true);\n  if (cmp === 0) {\n    // Found the element we are looking for.\n    return mid;\n  }\n  else if (cmp > 0) {\n    // Our needle is greater than aHaystack[mid].\n    if (aHigh - mid > 1) {\n      // The element is in the upper half.\n      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // The exact needle element was not found in this haystack. Determine if\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return aHigh < aHaystack.length ? aHigh : -1;\n    } else {\n      return mid;\n    }\n  }\n  else {\n    // Our needle is less than aHaystack[mid].\n    if (mid - aLow > 1) {\n      // The element is in the lower half.\n      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return mid;\n    } else {\n      return aLow < 0 ? -1 : aLow;\n    }\n  }\n}\n\n/**\n * This is an implementation of binary search which will always try and return\n * the index of the closest element if there is no exact hit. This is because\n * mappings between original and generated line/col pairs are single points,\n * and there is an implicit region between each of them, so a miss just means\n * that you aren't on the very start of a region.\n *\n * @param aNeedle The element you are looking for.\n * @param aHaystack The array that is being searched.\n * @param aCompare A function which takes the needle and an element in the\n *     array and returns -1, 0, or 1 depending on whether the needle is less\n *     than, equal to, or greater than the element, respectively.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\n */\nexports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\n  if (aHaystack.length === 0) {\n    return -1;\n  }\n\n  var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,\n                              aCompare, aBias || exports.GREATEST_LOWER_BOUND);\n  if (index < 0) {\n    return -1;\n  }\n\n  // We have found either the exact element, or the next-closest element than\n  // the one we are searching for. However, there may be more than one such\n  // element. Make sure we always return the smallest of these.\n  while (index - 1 >= 0) {\n    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\n      break;\n    }\n    --index;\n  }\n\n  return index;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n// It turns out that some (most?) JavaScript engines don't self-host\n// `Array.prototype.sort`. This makes sense because C++ will likely remain\n// faster than JS when doing raw CPU-intensive sorting. However, when using a\n// custom comparator function, calling back and forth between the VM's C++ and\n// JIT'd JS is rather slow *and* loses JIT type information, resulting in\n// worse generated code for the comparator function than would be optimal. In\n// fact, when sorting with a comparator, these costs outweigh the benefits of\n// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\n// a ~3500ms mean speed-up in `bench/bench.html`.\n\n/**\n * Swap the elements indexed by `x` and `y` in the array `ary`.\n *\n * @param {Array} ary\n *        The array.\n * @param {Number} x\n *        The index of the first item.\n * @param {Number} y\n *        The index of the second item.\n */\nfunction swap(ary, x, y) {\n  var temp = ary[x];\n  ary[x] = ary[y];\n  ary[y] = temp;\n}\n\n/**\n * Returns a random integer within the range `low .. high` inclusive.\n *\n * @param {Number} low\n *        The lower bound on the range.\n * @param {Number} high\n *        The upper bound on the range.\n */\nfunction randomIntInRange(low, high) {\n  return Math.round(low + (Math.random() * (high - low)));\n}\n\n/**\n * The Quick Sort algorithm.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n * @param {Number} p\n *        Start index of the array\n * @param {Number} r\n *        End index of the array\n */\nfunction doQuickSort(ary, comparator, p, r) {\n  // If our lower bound is less than our upper bound, we (1) partition the\n  // array into two pieces and (2) recurse on each half. If it is not, this is\n  // the empty array and our base case.\n\n  if (p < r) {\n    // (1) Partitioning.\n    //\n    // The partitioning chooses a pivot between `p` and `r` and moves all\n    // elements that are less than or equal to the pivot to the before it, and\n    // all the elements that are greater than it after it. The effect is that\n    // once partition is done, the pivot is in the exact place it will be when\n    // the array is put in sorted order, and it will not need to be moved\n    // again. This runs in O(n) time.\n\n    // Always choose a random pivot so that an input array which is reverse\n    // sorted does not cause O(n^2) running time.\n    var pivotIndex = randomIntInRange(p, r);\n    var i = p - 1;\n\n    swap(ary, pivotIndex, r);\n    var pivot = ary[r];\n\n    // Immediately after `j` is incremented in this loop, the following hold\n    // true:\n    //\n    //   * Every element in `ary[p .. i]` is less than or equal to the pivot.\n    //\n    //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\n    for (var j = p; j < r; j++) {\n      if (comparator(ary[j], pivot) <= 0) {\n        i += 1;\n        swap(ary, i, j);\n      }\n    }\n\n    swap(ary, i + 1, j);\n    var q = i + 1;\n\n    // (2) Recurse on each half.\n\n    doQuickSort(ary, comparator, p, q - 1);\n    doQuickSort(ary, comparator, q + 1, r);\n  }\n}\n\n/**\n * Sort the given array in-place with the given comparator function.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n */\nexports.quickSort = function (ary, comparator) {\n  doQuickSort(ary, comparator, 0, ary.length - 1);\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar binarySearch = require('./binary-search');\nvar ArraySet = require('./array-set').ArraySet;\nvar base64VLQ = require('./base64-vlq');\nvar quickSort = require('./quick-sort').quickSort;\n\nfunction SourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  return sourceMap.sections != null\n    ? new IndexedSourceMapConsumer(sourceMap)\n    : new BasicSourceMapConsumer(sourceMap);\n}\n\nSourceMapConsumer.fromSourceMap = function(aSourceMap) {\n  return BasicSourceMapConsumer.fromSourceMap(aSourceMap);\n}\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nSourceMapConsumer.prototype._version = 3;\n\n// `__generatedMappings` and `__originalMappings` are arrays that hold the\n// parsed mapping coordinates from the source map's \"mappings\" attribute. They\n// are lazily instantiated, accessed via the `_generatedMappings` and\n// `_originalMappings` getters respectively, and we only parse the mappings\n// and create these arrays once queried for a source location. We jump through\n// these hoops because there can be many thousands of mappings, and parsing\n// them is expensive, so we only want to do it if we must.\n//\n// Each object in the arrays is of the form:\n//\n//     {\n//       generatedLine: The line number in the generated code,\n//       generatedColumn: The column number in the generated code,\n//       source: The path to the original source file that generated this\n//               chunk of code,\n//       originalLine: The line number in the original source that\n//                     corresponds to this chunk of generated code,\n//       originalColumn: The column number in the original source that\n//                       corresponds to this chunk of generated code,\n//       name: The name of the original symbol which generated this chunk of\n//             code.\n//     }\n//\n// All properties except for `generatedLine` and `generatedColumn` can be\n// `null`.\n//\n// `_generatedMappings` is ordered by the generated positions.\n//\n// `_originalMappings` is ordered by the original positions.\n\nSourceMapConsumer.prototype.__generatedMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\n  get: function () {\n    if (!this.__generatedMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__generatedMappings;\n  }\n});\n\nSourceMapConsumer.prototype.__originalMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\n  get: function () {\n    if (!this.__originalMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__originalMappings;\n  }\n});\n\nSourceMapConsumer.prototype._charIsMappingSeparator =\n  function SourceMapConsumer_charIsMappingSeparator(aStr, index) {\n    var c = aStr.charAt(index);\n    return c === \";\" || c === \",\";\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    throw new Error(\"Subclasses must implement _parseMappings\");\n  };\n\nSourceMapConsumer.GENERATED_ORDER = 1;\nSourceMapConsumer.ORIGINAL_ORDER = 2;\n\nSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\nSourceMapConsumer.LEAST_UPPER_BOUND = 2;\n\n/**\n * Iterate over each mapping between an original source/line/column and a\n * generated line/column in this source map.\n *\n * @param Function aCallback\n *        The function that is called with each mapping.\n * @param Object aContext\n *        Optional. If specified, this object will be the value of `this` every\n *        time that `aCallback` is called.\n * @param aOrder\n *        Either `SourceMapConsumer.GENERATED_ORDER` or\n *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\n *        iterate over the mappings sorted by the generated file's line/column\n *        order or the original's source/line/column order, respectively. Defaults to\n *        `SourceMapConsumer.GENERATED_ORDER`.\n */\nSourceMapConsumer.prototype.eachMapping =\n  function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\n    var context = aContext || null;\n    var order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n\n    var mappings;\n    switch (order) {\n    case SourceMapConsumer.GENERATED_ORDER:\n      mappings = this._generatedMappings;\n      break;\n    case SourceMapConsumer.ORIGINAL_ORDER:\n      mappings = this._originalMappings;\n      break;\n    default:\n      throw new Error(\"Unknown order of iteration.\");\n    }\n\n    var sourceRoot = this.sourceRoot;\n    mappings.map(function (mapping) {\n      var source = mapping.source === null ? null : this._sources.at(mapping.source);\n      if (source != null && sourceRoot != null) {\n        source = util.join(sourceRoot, source);\n      }\n      return {\n        source: source,\n        generatedLine: mapping.generatedLine,\n        generatedColumn: mapping.generatedColumn,\n        originalLine: mapping.originalLine,\n        originalColumn: mapping.originalColumn,\n        name: mapping.name === null ? null : this._names.at(mapping.name)\n      };\n    }, this).forEach(aCallback, context);\n  };\n\n/**\n * Returns all generated line and column information for the original source,\n * line, and column provided. If no column is provided, returns all mappings\n * corresponding to a either the line we are searching for or the next\n * closest line that has any mappings. Otherwise, returns all mappings\n * corresponding to the given line and either the column we are searching for\n * or the next closest column that has any offsets.\n *\n * The only argument is an object with the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: Optional. the column number in the original source.\n *\n * and an array of objects is returned, each with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\nSourceMapConsumer.prototype.allGeneratedPositionsFor =\n  function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\n    var line = util.getArg(aArgs, 'line');\n\n    // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\n    // returns the index of the closest mapping less than the needle. By\n    // setting needle.originalColumn to 0, we thus find the last mapping for\n    // the given line, provided such a mapping exists.\n    var needle = {\n      source: util.getArg(aArgs, 'source'),\n      originalLine: line,\n      originalColumn: util.getArg(aArgs, 'column', 0)\n    };\n\n    if (this.sourceRoot != null) {\n      needle.source = util.relative(this.sourceRoot, needle.source);\n    }\n    if (!this._sources.has(needle.source)) {\n      return [];\n    }\n    needle.source = this._sources.indexOf(needle.source);\n\n    var mappings = [];\n\n    var index = this._findMapping(needle,\n                                  this._originalMappings,\n                                  \"originalLine\",\n                                  \"originalColumn\",\n                                  util.compareByOriginalPositions,\n                                  binarySearch.LEAST_UPPER_BOUND);\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (aArgs.column === undefined) {\n        var originalLine = mapping.originalLine;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we found. Since\n        // mappings are sorted, this is guaranteed to find all mappings for\n        // the line we found.\n        while (mapping && mapping.originalLine === originalLine) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      } else {\n        var originalColumn = mapping.originalColumn;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we were searching for.\n        // Since mappings are sorted, this is guaranteed to find all mappings for\n        // the line we are searching for.\n        while (mapping &&\n               mapping.originalLine === line &&\n               mapping.originalColumn == originalColumn) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      }\n    }\n\n    return mappings;\n  };\n\nexports.SourceMapConsumer = SourceMapConsumer;\n\n/**\n * A BasicSourceMapConsumer instance represents a parsed source map which we can\n * query for information about the original file positions by giving it a file\n * position in the generated source.\n *\n * The only parameter is the raw source map (either as a JSON string, or\n * already parsed to an object). According to the spec, source maps have the\n * following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - sources: An array of URLs to the original source files.\n *   - names: An array of identifiers which can be referrenced by individual mappings.\n *   - sourceRoot: Optional. The URL root from which all sources are relative.\n *   - sourcesContent: Optional. An array of contents of the original source files.\n *   - mappings: A string of base64 VLQs which contain the actual mappings.\n *   - file: Optional. The generated file this source map is associated with.\n *\n * Here is an example source map, taken from the source map spec[0]:\n *\n *     {\n *       version : 3,\n *       file: \"out.js\",\n *       sourceRoot : \"\",\n *       sources: [\"foo.js\", \"bar.js\"],\n *       names: [\"src\", \"maps\", \"are\", \"fun\"],\n *       mappings: \"AA,AB;;ABCDE;\"\n *     }\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\n */\nfunction BasicSourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sources = util.getArg(sourceMap, 'sources');\n  // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\n  // requires the array) to play nice here.\n  var names = util.getArg(sourceMap, 'names', []);\n  var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\n  var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\n  var mappings = util.getArg(sourceMap, 'mappings');\n  var file = util.getArg(sourceMap, 'file', null);\n\n  // Once again, Sass deviates from the spec and supplies the version as a\n  // string rather than a number, so we use loose equality checking here.\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  sources = sources\n    .map(String)\n    // Some source maps produce relative source paths like \"./foo.js\" instead of\n    // \"foo.js\".  Normalize these first so that future comparisons will succeed.\n    // See bugzil.la/1090768.\n    .map(util.normalize)\n    // Always ensure that absolute sources are internally stored relative to\n    // the source root, if the source root is absolute. Not doing this would\n    // be particularly problematic when the source root is a prefix of the\n    // source (valid, but why??). See github issue #199 and bugzil.la/1188982.\n    .map(function (source) {\n      return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)\n        ? util.relative(sourceRoot, source)\n        : source;\n    });\n\n  // Pass `true` below to allow duplicate names and sources. While source maps\n  // are intended to be compressed and deduplicated, the TypeScript compiler\n  // sometimes generates source maps with duplicates in them. See Github issue\n  // #72 and bugzil.la/889492.\n  this._names = ArraySet.fromArray(names.map(String), true);\n  this._sources = ArraySet.fromArray(sources, true);\n\n  this.sourceRoot = sourceRoot;\n  this.sourcesContent = sourcesContent;\n  this._mappings = mappings;\n  this.file = file;\n}\n\nBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\n\n/**\n * Create a BasicSourceMapConsumer from a SourceMapGenerator.\n *\n * @param SourceMapGenerator aSourceMap\n *        The source map that will be consumed.\n * @returns BasicSourceMapConsumer\n */\nBasicSourceMapConsumer.fromSourceMap =\n  function SourceMapConsumer_fromSourceMap(aSourceMap) {\n    var smc = Object.create(BasicSourceMapConsumer.prototype);\n\n    var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\n    var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\n    smc.sourceRoot = aSourceMap._sourceRoot;\n    smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),\n                                                            smc.sourceRoot);\n    smc.file = aSourceMap._file;\n\n    // Because we are modifying the entries (by converting string sources and\n    // names to indices into the sources and names ArraySets), we have to make\n    // a copy of the entry or else bad things happen. Shared mutable state\n    // strikes again! See github issue #191.\n\n    var generatedMappings = aSourceMap._mappings.toArray().slice();\n    var destGeneratedMappings = smc.__generatedMappings = [];\n    var destOriginalMappings = smc.__originalMappings = [];\n\n    for (var i = 0, length = generatedMappings.length; i < length; i++) {\n      var srcMapping = generatedMappings[i];\n      var destMapping = new Mapping;\n      destMapping.generatedLine = srcMapping.generatedLine;\n      destMapping.generatedColumn = srcMapping.generatedColumn;\n\n      if (srcMapping.source) {\n        destMapping.source = sources.indexOf(srcMapping.source);\n        destMapping.originalLine = srcMapping.originalLine;\n        destMapping.originalColumn = srcMapping.originalColumn;\n\n        if (srcMapping.name) {\n          destMapping.name = names.indexOf(srcMapping.name);\n        }\n\n        destOriginalMappings.push(destMapping);\n      }\n\n      destGeneratedMappings.push(destMapping);\n    }\n\n    quickSort(smc.__originalMappings, util.compareByOriginalPositions);\n\n    return smc;\n  };\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nBasicSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    return this._sources.toArray().map(function (s) {\n      return this.sourceRoot != null ? util.join(this.sourceRoot, s) : s;\n    }, this);\n  }\n});\n\n/**\n * Provide the JIT with a nice shape / hidden class.\n */\nfunction Mapping() {\n  this.generatedLine = 0;\n  this.generatedColumn = 0;\n  this.source = null;\n  this.originalLine = null;\n  this.originalColumn = null;\n  this.name = null;\n}\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nBasicSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    var generatedLine = 1;\n    var previousGeneratedColumn = 0;\n    var previousOriginalLine = 0;\n    var previousOriginalColumn = 0;\n    var previousSource = 0;\n    var previousName = 0;\n    var length = aStr.length;\n    var index = 0;\n    var cachedSegments = {};\n    var temp = {};\n    var originalMappings = [];\n    var generatedMappings = [];\n    var mapping, str, segment, end, value;\n\n    while (index < length) {\n      if (aStr.charAt(index) === ';') {\n        generatedLine++;\n        index++;\n        previousGeneratedColumn = 0;\n      }\n      else if (aStr.charAt(index) === ',') {\n        index++;\n      }\n      else {\n        mapping = new Mapping();\n        mapping.generatedLine = generatedLine;\n\n        // Because each offset is encoded relative to the previous one,\n        // many segments often have the same encoding. We can exploit this\n        // fact by caching the parsed variable length fields of each segment,\n        // allowing us to avoid a second parse if we encounter the same\n        // segment again.\n        for (end = index; end < length; end++) {\n          if (this._charIsMappingSeparator(aStr, end)) {\n            break;\n          }\n        }\n        str = aStr.slice(index, end);\n\n        segment = cachedSegments[str];\n        if (segment) {\n          index += str.length;\n        } else {\n          segment = [];\n          while (index < end) {\n            base64VLQ.decode(aStr, index, temp);\n            value = temp.value;\n            index = temp.rest;\n            segment.push(value);\n          }\n\n          if (segment.length === 2) {\n            throw new Error('Found a source, but no line and column');\n          }\n\n          if (segment.length === 3) {\n            throw new Error('Found a source and line, but no column');\n          }\n\n          cachedSegments[str] = segment;\n        }\n\n        // Generated column.\n        mapping.generatedColumn = previousGeneratedColumn + segment[0];\n        previousGeneratedColumn = mapping.generatedColumn;\n\n        if (segment.length > 1) {\n          // Original source.\n          mapping.source = previousSource + segment[1];\n          previousSource += segment[1];\n\n          // Original line.\n          mapping.originalLine = previousOriginalLine + segment[2];\n          previousOriginalLine = mapping.originalLine;\n          // Lines are stored 0-based\n          mapping.originalLine += 1;\n\n          // Original column.\n          mapping.originalColumn = previousOriginalColumn + segment[3];\n          previousOriginalColumn = mapping.originalColumn;\n\n          if (segment.length > 4) {\n            // Original name.\n            mapping.name = previousName + segment[4];\n            previousName += segment[4];\n          }\n        }\n\n        generatedMappings.push(mapping);\n        if (typeof mapping.originalLine === 'number') {\n          originalMappings.push(mapping);\n        }\n      }\n    }\n\n    quickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);\n    this.__generatedMappings = generatedMappings;\n\n    quickSort(originalMappings, util.compareByOriginalPositions);\n    this.__originalMappings = originalMappings;\n  };\n\n/**\n * Find the mapping that best matches the hypothetical \"needle\" mapping that\n * we are searching for in the given \"haystack\" of mappings.\n */\nBasicSourceMapConsumer.prototype._findMapping =\n  function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,\n                                         aColumnName, aComparator, aBias) {\n    // To return the position we are searching for, we must first find the\n    // mapping for the given position and then return the opposite position it\n    // points to. Because the mappings are sorted, we can use binary search to\n    // find the best mapping.\n\n    if (aNeedle[aLineName] <= 0) {\n      throw new TypeError('Line must be greater than or equal to 1, got '\n                          + aNeedle[aLineName]);\n    }\n    if (aNeedle[aColumnName] < 0) {\n      throw new TypeError('Column must be greater than or equal to 0, got '\n                          + aNeedle[aColumnName]);\n    }\n\n    return binarySearch.search(aNeedle, aMappings, aComparator, aBias);\n  };\n\n/**\n * Compute the last column for each generated mapping. The last column is\n * inclusive.\n */\nBasicSourceMapConsumer.prototype.computeColumnSpans =\n  function SourceMapConsumer_computeColumnSpans() {\n    for (var index = 0; index < this._generatedMappings.length; ++index) {\n      var mapping = this._generatedMappings[index];\n\n      // Mappings do not contain a field for the last generated columnt. We\n      // can come up with an optimistic estimate, however, by assuming that\n      // mappings are contiguous (i.e. given two consecutive mappings, the\n      // first mapping ends where the second one starts).\n      if (index + 1 < this._generatedMappings.length) {\n        var nextMapping = this._generatedMappings[index + 1];\n\n        if (mapping.generatedLine === nextMapping.generatedLine) {\n          mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\n          continue;\n        }\n      }\n\n      // The last mapping for each line spans the entire line.\n      mapping.lastGeneratedColumn = Infinity;\n    }\n  };\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.\n *   - column: The column number in the generated source.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.\n *   - column: The column number in the original source, or null.\n *   - name: The original identifier, or null.\n */\nBasicSourceMapConsumer.prototype.originalPositionFor =\n  function SourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._generatedMappings,\n      \"generatedLine\",\n      \"generatedColumn\",\n      util.compareByGeneratedPositionsDeflated,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._generatedMappings[index];\n\n      if (mapping.generatedLine === needle.generatedLine) {\n        var source = util.getArg(mapping, 'source', null);\n        if (source !== null) {\n          source = this._sources.at(source);\n          if (this.sourceRoot != null) {\n            source = util.join(this.sourceRoot, source);\n          }\n        }\n        var name = util.getArg(mapping, 'name', null);\n        if (name !== null) {\n          name = this._names.at(name);\n        }\n        return {\n          source: source,\n          line: util.getArg(mapping, 'originalLine', null),\n          column: util.getArg(mapping, 'originalColumn', null),\n          name: name\n        };\n      }\n    }\n\n    return {\n      source: null,\n      line: null,\n      column: null,\n      name: null\n    };\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nBasicSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function BasicSourceMapConsumer_hasContentsOfAllSources() {\n    if (!this.sourcesContent) {\n      return false;\n    }\n    return this.sourcesContent.length >= this._sources.size() &&\n      !this.sourcesContent.some(function (sc) { return sc == null; });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nBasicSourceMapConsumer.prototype.sourceContentFor =\n  function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    if (!this.sourcesContent) {\n      return null;\n    }\n\n    if (this.sourceRoot != null) {\n      aSource = util.relative(this.sourceRoot, aSource);\n    }\n\n    if (this._sources.has(aSource)) {\n      return this.sourcesContent[this._sources.indexOf(aSource)];\n    }\n\n    var url;\n    if (this.sourceRoot != null\n        && (url = util.urlParse(this.sourceRoot))) {\n      // XXX: file:// URIs and absolute paths lead to unexpected behavior for\n      // many users. We can help them out when they expect file:// URIs to\n      // behave like it would if they were running a local HTTP server. See\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\n      var fileUriAbsPath = aSource.replace(/^file:\\/\\//, \"\");\n      if (url.scheme == \"file\"\n          && this._sources.has(fileUriAbsPath)) {\n        return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]\n      }\n\n      if ((!url.path || url.path == \"/\")\n          && this._sources.has(\"/\" + aSource)) {\n        return this.sourcesContent[this._sources.indexOf(\"/\" + aSource)];\n      }\n    }\n\n    // This function is used recursively from\n    // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\n    // don't want to throw if we can't find the source - we just want to\n    // return null, so we provide a flag to exit gracefully.\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: The column number in the original source.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\nBasicSourceMapConsumer.prototype.generatedPositionFor =\n  function SourceMapConsumer_generatedPositionFor(aArgs) {\n    var source = util.getArg(aArgs, 'source');\n    if (this.sourceRoot != null) {\n      source = util.relative(this.sourceRoot, source);\n    }\n    if (!this._sources.has(source)) {\n      return {\n        line: null,\n        column: null,\n        lastColumn: null\n      };\n    }\n    source = this._sources.indexOf(source);\n\n    var needle = {\n      source: source,\n      originalLine: util.getArg(aArgs, 'line'),\n      originalColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._originalMappings,\n      \"originalLine\",\n      \"originalColumn\",\n      util.compareByOriginalPositions,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (mapping.source === needle.source) {\n        return {\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        };\n      }\n    }\n\n    return {\n      line: null,\n      column: null,\n      lastColumn: null\n    };\n  };\n\nexports.BasicSourceMapConsumer = BasicSourceMapConsumer;\n\n/**\n * An IndexedSourceMapConsumer instance represents a parsed source map which\n * we can query for information. It differs from BasicSourceMapConsumer in\n * that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\n * input.\n *\n * The only parameter is a raw source map (either as a JSON string, or already\n * parsed to an object). According to the spec for indexed source maps, they\n * have the following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - file: Optional. The generated file this source map is associated with.\n *   - sections: A list of section definitions.\n *\n * Each value under the \"sections\" field has two fields:\n *   - offset: The offset into the original specified at which this section\n *       begins to apply, defined as an object with a \"line\" and \"column\"\n *       field.\n *   - map: A source map definition. This source map could also be indexed,\n *       but doesn't have to be.\n *\n * Instead of the \"map\" field, it's also possible to have a \"url\" field\n * specifying a URL to retrieve a source map from, but that's currently\n * unsupported.\n *\n * Here's an example source map, taken from the source map spec[0], but\n * modified to omit a section which uses the \"url\" field.\n *\n *  {\n *    version : 3,\n *    file: \"app.js\",\n *    sections: [{\n *      offset: {line:100, column:10},\n *      map: {\n *        version : 3,\n *        file: \"section.js\",\n *        sources: [\"foo.js\", \"bar.js\"],\n *        names: [\"src\", \"maps\", \"are\", \"fun\"],\n *        mappings: \"AAAA,E;;ABCDE;\"\n *      }\n *    }],\n *  }\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\n */\nfunction IndexedSourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sections = util.getArg(sourceMap, 'sections');\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n\n  var lastOffset = {\n    line: -1,\n    column: 0\n  };\n  this._sections = sections.map(function (s) {\n    if (s.url) {\n      // The url field will require support for asynchronicity.\n      // See https://github.com/mozilla/source-map/issues/16\n      throw new Error('Support for url field in sections not implemented.');\n    }\n    var offset = util.getArg(s, 'offset');\n    var offsetLine = util.getArg(offset, 'line');\n    var offsetColumn = util.getArg(offset, 'column');\n\n    if (offsetLine < lastOffset.line ||\n        (offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {\n      throw new Error('Section offsets must be ordered and non-overlapping.');\n    }\n    lastOffset = offset;\n\n    return {\n      generatedOffset: {\n        // The offset fields are 0-based, but we use 1-based indices when\n        // encoding/decoding from VLQ.\n        generatedLine: offsetLine + 1,\n        generatedColumn: offsetColumn + 1\n      },\n      consumer: new SourceMapConsumer(util.getArg(s, 'map'))\n    }\n  });\n}\n\nIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nIndexedSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    var sources = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\n        sources.push(this._sections[i].consumer.sources[j]);\n      }\n    }\n    return sources;\n  }\n});\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.\n *   - column: The column number in the generated source.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.\n *   - column: The column number in the original source, or null.\n *   - name: The original identifier, or null.\n */\nIndexedSourceMapConsumer.prototype.originalPositionFor =\n  function IndexedSourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    // Find the section containing the generated position we're trying to map\n    // to an original position.\n    var sectionIndex = binarySearch.search(needle, this._sections,\n      function(needle, section) {\n        var cmp = needle.generatedLine - section.generatedOffset.generatedLine;\n        if (cmp) {\n          return cmp;\n        }\n\n        return (needle.generatedColumn -\n                section.generatedOffset.generatedColumn);\n      });\n    var section = this._sections[sectionIndex];\n\n    if (!section) {\n      return {\n        source: null,\n        line: null,\n        column: null,\n        name: null\n      };\n    }\n\n    return section.consumer.originalPositionFor({\n      line: needle.generatedLine -\n        (section.generatedOffset.generatedLine - 1),\n      column: needle.generatedColumn -\n        (section.generatedOffset.generatedLine === needle.generatedLine\n         ? section.generatedOffset.generatedColumn - 1\n         : 0),\n      bias: aArgs.bias\n    });\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nIndexedSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function IndexedSourceMapConsumer_hasContentsOfAllSources() {\n    return this._sections.every(function (s) {\n      return s.consumer.hasContentsOfAllSources();\n    });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nIndexedSourceMapConsumer.prototype.sourceContentFor =\n  function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      var content = section.consumer.sourceContentFor(aSource, true);\n      if (content) {\n        return content;\n      }\n    }\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: The column number in the original source.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\nIndexedSourceMapConsumer.prototype.generatedPositionFor =\n  function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      // Only consider this section if the requested source is in the list of\n      // sources of the consumer.\n      if (section.consumer.sources.indexOf(util.getArg(aArgs, 'source')) === -1) {\n        continue;\n      }\n      var generatedPosition = section.consumer.generatedPositionFor(aArgs);\n      if (generatedPosition) {\n        var ret = {\n          line: generatedPosition.line +\n            (section.generatedOffset.generatedLine - 1),\n          column: generatedPosition.column +\n            (section.generatedOffset.generatedLine === generatedPosition.line\n             ? section.generatedOffset.generatedColumn - 1\n             : 0)\n        };\n        return ret;\n      }\n    }\n\n    return {\n      line: null,\n      column: null\n    };\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nIndexedSourceMapConsumer.prototype._parseMappings =\n  function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    this.__generatedMappings = [];\n    this.__originalMappings = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n      var sectionMappings = section.consumer._generatedMappings;\n      for (var j = 0; j < sectionMappings.length; j++) {\n        var mapping = sectionMappings[j];\n\n        var source = section.consumer._sources.at(mapping.source);\n        if (section.consumer.sourceRoot !== null) {\n          source = util.join(section.consumer.sourceRoot, source);\n        }\n        this._sources.add(source);\n        source = this._sources.indexOf(source);\n\n        var name = section.consumer._names.at(mapping.name);\n        this._names.add(name);\n        name = this._names.indexOf(name);\n\n        // The mappings coming from the consumer for the section have\n        // generated positions relative to the start of the section, so we\n        // need to offset them to be relative to the start of the concatenated\n        // generated file.\n        var adjustedMapping = {\n          source: source,\n          generatedLine: mapping.generatedLine +\n            (section.generatedOffset.generatedLine - 1),\n          generatedColumn: mapping.generatedColumn +\n            (section.generatedOffset.generatedLine === mapping.generatedLine\n            ? section.generatedOffset.generatedColumn - 1\n            : 0),\n          originalLine: mapping.originalLine,\n          originalColumn: mapping.originalColumn,\n          name: name\n        };\n\n        this.__generatedMappings.push(adjustedMapping);\n        if (typeof adjustedMapping.originalLine === 'number') {\n          this.__originalMappings.push(adjustedMapping);\n        }\n      }\n    }\n\n    quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\n    quickSort(this.__originalMappings, util.compareByOriginalPositions);\n  };\n\nexports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = util.toSetString(aStr);\n  var isDuplicate = has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    this._set[sStr] = idx;\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  var sStr = util.toSetString(aStr);\n  return has.call(this._set, sStr);\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  var sStr = util.toSetString(aStr);\n  if (has.call(this._set, sStr)) {\n    return this._set[sStr];\n  }\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stacktrace-gps', ['source-map', 'stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('source-map/lib/source-map-consumer'), require('stackframe'));\n    } else {\n        root.StackTraceGPS = factory(root.SourceMap || root.sourceMap, root.StackFrame);\n    }\n}(this, function(SourceMap, StackFrame) {\n    'use strict';\n\n    /**\n     * Make a X-Domain request to url and callback.\n     *\n     * @param {String} url\n     * @returns {Promise} with response text if fulfilled\n     */\n    function _xdr(url) {\n        return new Promise(function(resolve, reject) {\n            var req = new XMLHttpRequest();\n            req.open('get', url);\n            req.onerror = reject;\n            req.onreadystatechange = function onreadystatechange() {\n                if (req.readyState === 4) {\n                    if ((req.status >= 200 && req.status < 300) ||\n                        (url.substr(0, 7) === 'file://' && req.responseText)) {\n                        resolve(req.responseText);\n                    } else {\n                        reject(new Error('HTTP status: ' + req.status + ' retrieving ' + url));\n                    }\n                }\n            };\n            req.send();\n        });\n\n    }\n\n    /**\n     * Convert a Base64-encoded string into its original representation.\n     * Used for inline sourcemaps.\n     *\n     * @param {String} b64str Base-64 encoded string\n     * @returns {String} original representation of the base64-encoded string.\n     */\n    function _atob(b64str) {\n        if (typeof window !== 'undefined' && window.atob) {\n            return window.atob(b64str);\n        } else {\n            throw new Error('You must supply a polyfill for window.atob in this environment');\n        }\n    }\n\n    function _parseJson(string) {\n        if (typeof JSON !== 'undefined' && JSON.parse) {\n            return JSON.parse(string);\n        } else {\n            throw new Error('You must supply a polyfill for JSON.parse in this environment');\n        }\n    }\n\n    function _findFunctionName(source, lineNumber/*, columnNumber*/) {\n        var syntaxes = [\n            // {name} = function ({args}) TODO args capture\n            /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*function\\b/,\n            // function {name}({args}) m[1]=name m[2]=args\n            /function\\s+([^('\"`]*?)\\s*\\(([^)]*)\\)/,\n            // {name} = eval()\n            /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*(?:eval|new Function)\\b/,\n            // fn_name() {\n            /\\b(?!(?:if|for|switch|while|with|catch)\\b)(?:(?:static)\\s+)?(\\S+)\\s*\\(.*?\\)\\s*\\{/,\n            // {name} = () => {\n            /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*\\(.*?\\)\\s*=>/\n        ];\n        var lines = source.split('\\n');\n\n        // Walk backwards in the source lines until we find the line which matches one of the patterns above\n        var code = '';\n        var maxLines = Math.min(lineNumber, 20);\n        for (var i = 0; i < maxLines; ++i) {\n            // lineNo is 1-based, source[] is 0-based\n            var line = lines[lineNumber - i - 1];\n            var commentPos = line.indexOf('//');\n            if (commentPos >= 0) {\n                line = line.substr(0, commentPos);\n            }\n\n            if (line) {\n                code = line + code;\n                var len = syntaxes.length;\n                for (var index = 0; index < len; index++) {\n                    var m = syntaxes[index].exec(code);\n                    if (m && m[1]) {\n                        return m[1];\n                    }\n                }\n            }\n        }\n        return undefined;\n    }\n\n    function _ensureSupportedEnvironment() {\n        if (typeof Object.defineProperty !== 'function' || typeof Object.create !== 'function') {\n            throw new Error('Unable to consume source maps in older browsers');\n        }\n    }\n\n    function _ensureStackFrameIsLegit(stackframe) {\n        if (typeof stackframe !== 'object') {\n            throw new TypeError('Given StackFrame is not an object');\n        } else if (typeof stackframe.fileName !== 'string') {\n            throw new TypeError('Given file name is not a String');\n        } else if (typeof stackframe.lineNumber !== 'number' ||\n            stackframe.lineNumber % 1 !== 0 ||\n            stackframe.lineNumber < 1) {\n            throw new TypeError('Given line number must be a positive integer');\n        } else if (typeof stackframe.columnNumber !== 'number' ||\n            stackframe.columnNumber % 1 !== 0 ||\n            stackframe.columnNumber < 0) {\n            throw new TypeError('Given column number must be a non-negative integer');\n        }\n        return true;\n    }\n\n    function _findSourceMappingURL(source) {\n        var sourceMappingUrlRegExp = /\\/\\/[#@] ?sourceMappingURL=([^\\s'\"]+)\\s*$/mg;\n        var lastSourceMappingUrl;\n        var matchSourceMappingUrl;\n        // eslint-disable-next-line no-cond-assign\n        while (matchSourceMappingUrl = sourceMappingUrlRegExp.exec(source)) {\n            lastSourceMappingUrl = matchSourceMappingUrl[1];\n        }\n        if (lastSourceMappingUrl) {\n            return lastSourceMappingUrl;\n        } else {\n            throw new Error('sourceMappingURL not found');\n        }\n    }\n\n    function _extractLocationInfoFromSourceMapSource(stackframe, sourceMapConsumer, sourceCache) {\n        return new Promise(function(resolve, reject) {\n            var loc = sourceMapConsumer.originalPositionFor({\n                line: stackframe.lineNumber,\n                column: stackframe.columnNumber\n            });\n\n            if (loc.source) {\n                // cache mapped sources\n                var mappedSource = sourceMapConsumer.sourceContentFor(loc.source);\n                if (mappedSource) {\n                    sourceCache[loc.source] = mappedSource;\n                }\n\n                resolve(\n                    // given stackframe and source location, update stackframe\n                    new StackFrame({\n                        functionName: loc.name || stackframe.functionName,\n                        args: stackframe.args,\n                        fileName: loc.source,\n                        lineNumber: loc.line,\n                        columnNumber: loc.column\n                    }));\n            } else {\n                reject(new Error('Could not get original source for given stackframe and source map'));\n            }\n        });\n    }\n\n    /**\n     * @constructor\n     * @param {Object} opts\n     *      opts.sourceCache = {url: \"Source String\"} => preload source cache\n     *      opts.sourceMapConsumerCache = {/path/file.js.map: SourceMapConsumer}\n     *      opts.offline = True to prevent network requests.\n     *              Best effort without sources or source maps.\n     *      opts.ajax = Promise returning function to make X-Domain requests\n     */\n    return function StackTraceGPS(opts) {\n        if (!(this instanceof StackTraceGPS)) {\n            return new StackTraceGPS(opts);\n        }\n        opts = opts || {};\n\n        this.sourceCache = opts.sourceCache || {};\n        this.sourceMapConsumerCache = opts.sourceMapConsumerCache || {};\n\n        this.ajax = opts.ajax || _xdr;\n\n        this._atob = opts.atob || _atob;\n\n        this._get = function _get(location) {\n            return new Promise(function(resolve, reject) {\n                var isDataUrl = location.substr(0, 5) === 'data:';\n                if (this.sourceCache[location]) {\n                    resolve(this.sourceCache[location]);\n                } else if (opts.offline && !isDataUrl) {\n                    reject(new Error('Cannot make network requests in offline mode'));\n                } else {\n                    if (isDataUrl) {\n                        // data URLs can have parameters.\n                        // see http://tools.ietf.org/html/rfc2397\n                        var supportedEncodingRegexp =\n                            /^data:application\\/json;([\\w=:\"-]+;)*base64,/;\n                        var match = location.match(supportedEncodingRegexp);\n                        if (match) {\n                            var sourceMapStart = match[0].length;\n                            var encodedSource = location.substr(sourceMapStart);\n                            var source = this._atob(encodedSource);\n                            this.sourceCache[location] = source;\n                            resolve(source);\n                        } else {\n                            reject(new Error('The encoding of the inline sourcemap is not supported'));\n                        }\n                    } else {\n                        var xhrPromise = this.ajax(location, {method: 'get'});\n                        // Cache the Promise to prevent duplicate in-flight requests\n                        this.sourceCache[location] = xhrPromise;\n                        xhrPromise.then(resolve, reject);\n                    }\n                }\n            }.bind(this));\n        };\n\n        /**\n         * Creating SourceMapConsumers is expensive, so this wraps the creation of a\n         * SourceMapConsumer in a per-instance cache.\n         *\n         * @param {String} sourceMappingURL = URL to fetch source map from\n         * @param {String} defaultSourceRoot = Default source root for source map if undefined\n         * @returns {Promise} that resolves a SourceMapConsumer\n         */\n        this._getSourceMapConsumer = function _getSourceMapConsumer(sourceMappingURL, defaultSourceRoot) {\n            return new Promise(function(resolve) {\n                if (this.sourceMapConsumerCache[sourceMappingURL]) {\n                    resolve(this.sourceMapConsumerCache[sourceMappingURL]);\n                } else {\n                    var sourceMapConsumerPromise = new Promise(function(resolve, reject) {\n                        return this._get(sourceMappingURL).then(function(sourceMapSource) {\n                            if (typeof sourceMapSource === 'string') {\n                                sourceMapSource = _parseJson(sourceMapSource.replace(/^\\)\\]\\}'/, ''));\n                            }\n                            if (typeof sourceMapSource.sourceRoot === 'undefined') {\n                                sourceMapSource.sourceRoot = defaultSourceRoot;\n                            }\n\n                            resolve(new SourceMap.SourceMapConsumer(sourceMapSource));\n                        }).catch(reject);\n                    }.bind(this));\n                    this.sourceMapConsumerCache[sourceMappingURL] = sourceMapConsumerPromise;\n                    resolve(sourceMapConsumerPromise);\n                }\n            }.bind(this));\n        };\n\n        /**\n         * Given a StackFrame, enhance function name and use source maps for a\n         * better StackFrame.\n         *\n         * @param {StackFrame} stackframe object\n         * @returns {Promise} that resolves with with source-mapped StackFrame\n         */\n        this.pinpoint = function StackTraceGPS$$pinpoint(stackframe) {\n            return new Promise(function(resolve, reject) {\n                this.getMappedLocation(stackframe).then(function(mappedStackFrame) {\n                    function resolveMappedStackFrame() {\n                        resolve(mappedStackFrame);\n                    }\n\n                    this.findFunctionName(mappedStackFrame)\n                        .then(resolve, resolveMappedStackFrame)\n                        // eslint-disable-next-line no-unexpected-multiline\n                        ['catch'](resolveMappedStackFrame);\n                }.bind(this), reject);\n            }.bind(this));\n        };\n\n        /**\n         * Given a StackFrame, guess function name from location information.\n         *\n         * @param {StackFrame} stackframe\n         * @returns {Promise} that resolves with enhanced StackFrame.\n         */\n        this.findFunctionName = function StackTraceGPS$$findFunctionName(stackframe) {\n            return new Promise(function(resolve, reject) {\n                _ensureStackFrameIsLegit(stackframe);\n                this._get(stackframe.fileName).then(function getSourceCallback(source) {\n                    var lineNumber = stackframe.lineNumber;\n                    var columnNumber = stackframe.columnNumber;\n                    var guessedFunctionName = _findFunctionName(source, lineNumber, columnNumber);\n                    // Only replace functionName if we found something\n                    if (guessedFunctionName) {\n                        resolve(new StackFrame({\n                            functionName: guessedFunctionName,\n                            args: stackframe.args,\n                            fileName: stackframe.fileName,\n                            lineNumber: lineNumber,\n                            columnNumber: columnNumber\n                        }));\n                    } else {\n                        resolve(stackframe);\n                    }\n                }, reject)['catch'](reject);\n            }.bind(this));\n        };\n\n        /**\n         * Given a StackFrame, seek source-mapped location and return new enhanced StackFrame.\n         *\n         * @param {StackFrame} stackframe\n         * @returns {Promise} that resolves with enhanced StackFrame.\n         */\n        this.getMappedLocation = function StackTraceGPS$$getMappedLocation(stackframe) {\n            return new Promise(function(resolve, reject) {\n                _ensureSupportedEnvironment();\n                _ensureStackFrameIsLegit(stackframe);\n\n                var sourceCache = this.sourceCache;\n                var fileName = stackframe.fileName;\n                this._get(fileName).then(function(source) {\n                    var sourceMappingURL = _findSourceMappingURL(source);\n                    var isDataUrl = sourceMappingURL.substr(0, 5) === 'data:';\n                    var defaultSourceRoot = fileName.substring(0, fileName.lastIndexOf('/') + 1);\n\n                    if (sourceMappingURL[0] !== '/' && !isDataUrl && !(/^https?:\\/\\/|^\\/\\//i).test(sourceMappingURL)) {\n                        sourceMappingURL = defaultSourceRoot + sourceMappingURL;\n                    }\n\n                    return this._getSourceMapConsumer(sourceMappingURL, defaultSourceRoot)\n                        .then(function(sourceMapConsumer) {\n                            return _extractLocationInfoFromSourceMapSource(stackframe, sourceMapConsumer, sourceCache)\n                                .then(resolve)['catch'](function() {\n                                    resolve(stackframe);\n                                });\n                        });\n                }.bind(this), reject)['catch'](reject);\n            }.bind(this));\n        };\n    };\n}));\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stacktrace', ['error-stack-parser', 'stack-generator', 'stacktrace-gps'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('error-stack-parser'), require('stack-generator'), require('stacktrace-gps'));\n    } else {\n        root.StackTrace = factory(root.ErrorStackParser, root.StackGenerator, root.StackTraceGPS);\n    }\n}(this, function StackTrace(ErrorStackParser, StackGenerator, StackTraceGPS) {\n    var _options = {\n        filter: function(stackframe) {\n            // Filter out stackframes for this library by default\n            return (stackframe.functionName || '').indexOf('StackTrace$$') === -1 &&\n                (stackframe.functionName || '').indexOf('ErrorStackParser$$') === -1 &&\n                (stackframe.functionName || '').indexOf('StackTraceGPS$$') === -1 &&\n                (stackframe.functionName || '').indexOf('StackGenerator$$') === -1;\n        },\n        sourceCache: {}\n    };\n\n    var _generateError = function StackTrace$$GenerateError() {\n        try {\n            // Error must be thrown to get stack in IE\n            throw new Error();\n        } catch (err) {\n            return err;\n        }\n    };\n\n    /**\n     * Merge 2 given Objects. If a conflict occurs the second object wins.\n     * Does not do deep merges.\n     *\n     * @param {Object} first base object\n     * @param {Object} second overrides\n     * @returns {Object} merged first and second\n     * @private\n     */\n    function _merge(first, second) {\n        var target = {};\n\n        [first, second].forEach(function(obj) {\n            for (var prop in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n                    target[prop] = obj[prop];\n                }\n            }\n            return target;\n        });\n\n        return target;\n    }\n\n    function _isShapedLikeParsableError(err) {\n        return err.stack || err['opera#sourceloc'];\n    }\n\n    function _filtered(stackframes, filter) {\n        if (typeof filter === 'function') {\n            return stackframes.filter(filter);\n        }\n        return stackframes;\n    }\n\n    return {\n        /**\n         * Get a backtrace from invocation point.\n         *\n         * @param {Object} opts\n         * @returns {Array} of StackFrame\n         */\n        get: function StackTrace$$get(opts) {\n            var err = _generateError();\n            return _isShapedLikeParsableError(err) ? this.fromError(err, opts) : this.generateArtificially(opts);\n        },\n\n        /**\n         * Get a backtrace from invocation point.\n         * IMPORTANT: Does not handle source maps or guess function names!\n         *\n         * @param {Object} opts\n         * @returns {Array} of StackFrame\n         */\n        getSync: function StackTrace$$getSync(opts) {\n            opts = _merge(_options, opts);\n            var err = _generateError();\n            var stack = _isShapedLikeParsableError(err) ? ErrorStackParser.parse(err) : StackGenerator.backtrace(opts);\n            return _filtered(stack, opts.filter);\n        },\n\n        /**\n         * Given an error object, parse it.\n         *\n         * @param {Error} error object\n         * @param {Object} opts\n         * @returns {Promise} for Array[StackFrame}\n         */\n        fromError: function StackTrace$$fromError(error, opts) {\n            opts = _merge(_options, opts);\n            var gps = new StackTraceGPS(opts);\n            return new Promise(function(resolve) {\n                var stackframes = _filtered(ErrorStackParser.parse(error), opts.filter);\n                resolve(Promise.all(stackframes.map(function(sf) {\n                    return new Promise(function(resolve) {\n                        function resolveOriginal() {\n                            resolve(sf);\n                        }\n\n                        gps.pinpoint(sf).then(resolve, resolveOriginal)['catch'](resolveOriginal);\n                    });\n                })));\n            }.bind(this));\n        },\n\n        /**\n         * Use StackGenerator to generate a backtrace.\n         *\n         * @param {Object} opts\n         * @returns {Promise} of Array[StackFrame]\n         */\n        generateArtificially: function StackTrace$$generateArtificially(opts) {\n            opts = _merge(_options, opts);\n            var stackFrames = StackGenerator.backtrace(opts);\n            if (typeof opts.filter === 'function') {\n                stackFrames = stackFrames.filter(opts.filter);\n            }\n            return Promise.resolve(stackFrames);\n        },\n\n        /**\n         * Given a function, wrap it such that invocations trigger a callback that\n         * is called with a stack trace.\n         *\n         * @param {Function} fn to be instrumented\n         * @param {Function} callback function to call with a stack trace on invocation\n         * @param {Function} errback optional function to call with error if unable to get stack trace.\n         * @param {Object} thisArg optional context object (e.g. window)\n         */\n        instrument: function StackTrace$$instrument(fn, callback, errback, thisArg) {\n            if (typeof fn !== 'function') {\n                throw new Error('Cannot instrument non-function object');\n            } else if (typeof fn.__stacktraceOriginalFn === 'function') {\n                // Already instrumented, return given Function\n                return fn;\n            }\n\n            var instrumented = function StackTrace$$instrumented() {\n                try {\n                    this.get().then(callback, errback)['catch'](errback);\n                    return fn.apply(thisArg || this, arguments);\n                } catch (e) {\n                    if (_isShapedLikeParsableError(e)) {\n                        this.fromError(e).then(callback, errback)['catch'](errback);\n                    }\n                    throw e;\n                }\n            }.bind(this);\n            instrumented.__stacktraceOriginalFn = fn;\n\n            return instrumented;\n        },\n\n        /**\n         * Given a function that has been instrumented,\n         * revert the function to it's original (non-instrumented) state.\n         *\n         * @param {Function} fn to de-instrument\n         */\n        deinstrument: function StackTrace$$deinstrument(fn) {\n            if (typeof fn !== 'function') {\n                throw new Error('Cannot de-instrument non-function object');\n            } else if (typeof fn.__stacktraceOriginalFn === 'function') {\n                return fn.__stacktraceOriginalFn;\n            } else {\n                // Function not instrumented, return original\n                return fn;\n            }\n        },\n\n        /**\n         * Given an error message and Array of StackFrames, serialize and POST to given URL.\n         *\n         * @param {Array} stackframes\n         * @param {String} url\n         * @param {String} errorMsg\n         * @param {Object} requestOptions\n         */\n        report: function StackTrace$$report(stackframes, url, errorMsg, requestOptions) {\n            return new Promise(function(resolve, reject) {\n                var req = new XMLHttpRequest();\n                req.onerror = reject;\n                req.onreadystatechange = function onreadystatechange() {\n                    if (req.readyState === 4) {\n                        if (req.status >= 200 && req.status < 400) {\n                            resolve(req.responseText);\n                        } else {\n                            reject(new Error('POST to ' + url + ' failed with status: ' + req.status));\n                        }\n                    }\n                };\n                req.open('post', url);\n\n                // Set request headers\n                req.setRequestHeader('Content-Type', 'application/json');\n                if (requestOptions && typeof requestOptions.headers === 'object') {\n                    var headers = requestOptions.headers;\n                    for (var header in headers) {\n                        if (Object.prototype.hasOwnProperty.call(headers, header)) {\n                            req.setRequestHeader(header, headers[header]);\n                        }\n                    }\n                }\n\n                var reportPayload = {stack: stackframes};\n                if (errorMsg !== undefined && errorMsg !== null) {\n                    reportPayload.message = errorMsg;\n                }\n\n                req.send(JSON.stringify(reportPayload));\n            });\n        }\n    };\n}));\n","import { SourceMapConfig } from '../types/config'\nimport * as StackTrace from 'stacktrace-js'\n\nexport class SourceMapService {\n  private config: SourceMapConfig\n\n  constructor(config: SourceMapConfig) {\n    this.config = config\n  }\n\n  public isEnabled(): boolean {\n    return this.config.enabled\n  }\n\n  public async mapStackTrace(stack: string): Promise<string> {\n    if (!this.isEnabled()) {\n      return stack\n    }\n\n    try {\n      // 使用 stacktrace-js 解析错误堆栈\n      const stackFrames = await StackTrace.fromError(new Error(stack))\n\n      // 将堆栈帧转换为可读字符串\n      const mappedStack = stackFrames\n        .map(frame => {\n          let source = frame.fileName || ''\n\n          // 移除项目根路径前缀\n          if (this.config.stripProjectRoot && source.startsWith(this.config.stripProjectRoot)) {\n            source = source.substring(this.config.stripProjectRoot.length)\n          }\n\n          return `    at ${frame.functionName || '(anonymous)'} (${source}:${frame.lineNumber}:${frame.columnNumber})`\n        })\n        .join('\\n')\n\n      return mappedStack\n    } catch (error) {\n      console.error('Error mapping stack trace:', error)\n      return stack // 如果映射失败，返回原始堆栈\n    }\n  }\n\n  public async uploadSourceMap(sourceMapFile: File, sourceFile: string): Promise<boolean> {\n    if (!this.isEnabled() || !this.config.uploadSourceMap || !this.config.sourceMapEndpoint) {\n      return false\n    }\n\n    try {\n      const formData = new FormData()\n      formData.append('sourceMap', sourceMapFile)\n      formData.append('sourceFile', sourceFile)\n\n      if (this.config.includeSourceContent) {\n        // 读取源文件内容\n        const sourceContent = await this.readFileAsText(sourceMapFile)\n        formData.append('sourceContent', sourceContent)\n      }\n\n      const response = await fetch(this.config.sourceMapEndpoint, {\n        method: 'POST',\n        body: formData\n      })\n\n      return response.ok\n    } catch (error) {\n      console.error('Error uploading source map:', error)\n      return false\n    }\n  }\n\n  private readFileAsText(file: File): Promise<string> {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader()\n      reader.onload = () => resolve(reader.result as string)\n      reader.onerror = reject\n      reader.readAsText(file)\n    })\n  }\n}\n","import { FallbackConfig } from '../types/config'\n\nexport class FallbackService {\n  private config: FallbackConfig\n  private errorCount: number = 0\n  private errorTimestamps: number[] = []\n\n  constructor(config: FallbackConfig) {\n    this.config = config\n    this.init()\n  }\n\n  private init(): void {\n    // 监听全局错误以计数\n    window.addEventListener('error', this.handleError.bind(this))\n    window.addEventListener('unhandledrejection', this.handleError.bind(this))\n  }\n\n  private handleError(event: Event): void {\n    console.log(event)\n    const now = Date.now()\n\n    // 添加当前错误时间戳\n    this.errorTimestamps.push(now)\n\n    // 清理超出时间窗口的错误\n    this.errorTimestamps = this.errorTimestamps.filter(timestamp => now - timestamp <= this.config.timeWindow)\n\n    // 更新错误计数\n    this.errorCount = this.errorTimestamps.length\n\n    // 检查是否需要跳转到 fallback 页面\n    if (this.errorCount >= this.config.errorThreshold) {\n      this.redirectToFallback()\n    }\n  }\n\n  private redirectToFallback(): void {\n    // 防止循环重定向\n    if (window.location.pathname === this.config.fallbackUrl) {\n      return\n    }\n\n    // 保存当前 URL 以便恢复\n    sessionStorage.setItem('errorMonitor_previousUrl', window.location.href)\n\n    // 跳转到 fallback 页面\n    window.location.href = this.config.fallbackUrl\n  }\n\n  public destroy(): void {\n    window.removeEventListener('error', this.handleError.bind(this))\n    window.removeEventListener('unhandledrejection', this.handleError.bind(this))\n  }\n}\n","import { ReportService } from './reportService'\nimport { WhiteScreenConfig } from '../types/config'\n\nexport class WhiteScreenDetector {\n  private reportService: ReportService\n  private config: WhiteScreenConfig\n  private checkInterval: number | null = null\n  private hasReported: boolean = false\n\n  constructor(reportService: ReportService, config: WhiteScreenConfig) {\n    this.reportService = reportService\n    this.config = config\n    this.init()\n  }\n\n  private init(): void {\n    // 页面加载完成后开始检测\n    if (document.readyState === 'complete') {\n      this.startDetection()\n    } else {\n      window.addEventListener('load', () => {\n        this.startDetection()\n      })\n    }\n  }\n\n  private startDetection(): void {\n    // 设置超时检测\n    setTimeout(() => {\n      this.checkForWhiteScreen()\n    }, this.config.timeout)\n\n    // 定期检测\n    if (this.config.checkInterval > 0) {\n      this.checkInterval = window.setInterval(() => {\n        this.checkForWhiteScreen()\n      }, this.config.checkInterval)\n    }\n  }\n\n  private checkForWhiteScreen(): void {\n    // 如果已经报告过，不再重复检测\n    if (this.hasReported) {\n      this.stopDetection()\n      return\n    }\n\n    // 检查页面是否为白屏\n    const isWhiteScreen = this.isPageWhiteScreen()\n\n    if (isWhiteScreen) {\n      this.reportWhiteScreen()\n      this.hasReported = true\n      this.stopDetection()\n    }\n  }\n\n  private isPageWhiteScreen(): boolean {\n    // 获取有效元素数量\n    let validElementsCount = 0\n\n    // 检查指定选择器的元素\n    for (const selector of this.config.validSelectors) {\n      validElementsCount += document.querySelectorAll(selector).length\n    }\n\n    // 如果有效元素数量少于阈值，认为是白屏\n    return validElementsCount < this.config.minValidElements\n  }\n\n  private reportWhiteScreen(): void {\n    // 收集页面信息\n    const pageInfo = {\n      url: window.location.href,\n      userAgent: navigator.userAgent,\n      screenWidth: window.screen.width,\n      screenHeight: window.screen.height,\n      windowWidth: window.innerWidth,\n      windowHeight: window.innerHeight,\n      domContentLoaded: performance.timing.domContentLoadedEventEnd - performance.timing.navigationStart,\n      loadTime: performance.timing.loadEventEnd - performance.timing.navigationStart,\n      htmlContent: this.getSafeHtmlSnapshot()\n    }\n\n    // 上报白屏事件\n    this.reportService.reportError({\n      type: 'white_screen',\n      message: 'White screen detected',\n      pageInfo,\n      timestamp: new Date().toISOString()\n    })\n  }\n\n  private getSafeHtmlSnapshot(): string {\n    try {\n      // 获取 HTML 快照，但限制大小\n      const html = document.documentElement.outerHTML\n      const maxLength = 5000 // 限制 HTML 大小\n\n      return html.length > maxLength ? html.substring(0, maxLength) + '...' : html\n    } catch (e) {\n      return 'Failed to capture HTML snapshot'\n    }\n  }\n\n  private stopDetection(): void {\n    if (this.checkInterval) {\n      clearInterval(this.checkInterval)\n      this.checkInterval = null\n    }\n  }\n\n  public destroy(): void {\n    this.stopDetection()\n  }\n}\n","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","import { v4 as uuidv4 } from 'uuid'\n\nexport class TraceManager {\n  private traceId: string = ''\n  private sessionId: string = ''\n  private pageLoadId: string = ''\n\n  constructor() {\n    this.init()\n  }\n\n  private init(): void {\n    // 生成会话 ID，在整个会话期间保持不变\n    this.sessionId = this.getOrCreateSessionId()\n\n    // 生成页面加载 ID，每次页面加载时更新\n    this.pageLoadId = this.generateTraceId()\n\n    // 初始化 traceId 为页面加载 ID\n    this.traceId = this.pageLoadId\n\n    // 页面卸载时保存会话信息\n    window.addEventListener('beforeunload', () => {\n      this.saveSessionData()\n    })\n  }\n\n  private getOrCreateSessionId(): string {\n    // 尝试从 sessionStorage 获取会话 ID\n    let sessionId = sessionStorage.getItem('errorMonitor_sessionId')\n\n    // 如果不存在，创建新的会话 ID\n    if (!sessionId) {\n      sessionId = uuidv4()\n      sessionStorage.setItem('errorMonitor_sessionId', sessionId)\n    }\n\n    return sessionId\n  }\n\n  private saveSessionData(): void {\n    // 保存当前会话数据\n    sessionStorage.setItem('errorMonitor_sessionId', this.sessionId)\n    sessionStorage.setItem('errorMonitor_lastActive', Date.now().toString())\n  }\n\n  public generateTraceId(): string {\n    return uuidv4()\n  }\n\n  public getTraceId(): string {\n    return this.traceId\n  }\n\n  public setTraceId(traceId: string): void {\n    this.traceId = traceId\n  }\n\n  public getSessionId(): string {\n    return this.sessionId\n  }\n\n  public getPageLoadId(): string {\n    return this.pageLoadId\n  }\n\n  public getTraceInfo(): Record<string, string> {\n    return {\n      traceId: this.traceId,\n      sessionId: this.sessionId,\n      pageLoadId: this.pageLoadId\n    }\n  }\n}\n","import { Router } from 'vue-router'\nexport interface ReportConfig {\n  endpoint: string\n  appId: string\n  appVersion: string\n  environment: 'development' | 'production' | 'test'\n  maxRetryCount: number\n  retryInterval: number\n  batchReport: boolean\n  batchSize: number\n  batchInterval: number\n  useBeacon: boolean\n  headers?: Record<string, string>\n  beforeReport?: (data: any) => any | false\n  reportLevel?: 'error' | 'warning' | 'info' | 'debug'\n  sampleRate?: number\n  integrations?: {\n    sentry?: {\n      dsn: string\n      enabled: boolean\n    }\n    logRocket?: {\n      appId: string\n      enabled: boolean\n    }\n    aliyunSls?: {\n      project: string\n      logstore: string\n      endpoint: string\n      accessKeyId: string\n      accessKeySecret: string\n      enabled: boolean\n    }\n  }\n}\n\nexport interface ErrorConfig {\n  ignoreErrors?: Array<string | RegExp>\n  captureGlobalErrors: boolean\n  capturePromiseErrors: boolean\n  captureAjaxErrors: boolean\n  captureConsoleErrors: boolean\n  captureResourceErrors: boolean\n  maxErrorsPerMinute: number\n}\n\nexport interface PerformanceConfig {\n  capturePageLoad: boolean\n  capturePaint: boolean\n  captureMemory: boolean\n  captureFrameRate: boolean\n  captureFirstContentfulPaint: boolean\n  captureLargestContentfulPaint: boolean\n  captureFirstInputDelay: boolean\n  captureCumulativeLayoutShift: boolean\n  resourceTiming: boolean\n  longTaskThreshold: number\n}\n\nexport interface WhiteScreenConfig {\n  enabled: boolean\n  timeout: number\n  minValidElements: number\n  validSelectors: string[]\n  checkInterval: number\n}\n\nexport interface FallbackConfig {\n  enabled: boolean\n  fallbackUrl: string\n  errorThreshold: number\n  timeWindow: number\n}\n\nexport interface RouteConfig {\n  enabled: boolean\n  router?: Router\n  ignorePaths?: string[]\n  captureParams: boolean\n  captureQuery: boolean\n  captureHash: boolean\n}\n\nexport interface StateConfig {\n  enabled: boolean\n  vuex?: any\n  pinia?: any\n  captureActions: boolean\n  captureMutations: boolean\n  captureState: boolean\n  stateSnapshotInterval: number\n  maxStateSize: number\n}\n\nexport interface SourceMapConfig {\n  enabled: boolean\n  uploadSourceMap: boolean\n  sourceMapEndpoint?: string\n  stripProjectRoot?: string\n  includeSourceContent?: boolean\n}\n\nexport interface Config {\n  reportConfig: ReportConfig\n  errorConfig: ErrorConfig\n  performanceConfig: PerformanceConfig\n  whiteScreenConfig: WhiteScreenConfig\n  fallbackConfig: FallbackConfig\n  routeConfig: RouteConfig\n  stateConfig: StateConfig\n  sourceMapConfig: SourceMapConfig\n  debug: boolean\n}\n\nexport const defaultConfig: Config = {\n  reportConfig: {\n    endpoint: '/api/error-report',\n    appId: '',\n    appVersion: '1.0.0',\n    environment: 'production',\n    maxRetryCount: 3,\n    retryInterval: 3000,\n    batchReport: true,\n    batchSize: 10,\n    batchInterval: 5000,\n    useBeacon: true,\n    reportLevel: 'error',\n    sampleRate: 1.0\n  },\n  errorConfig: {\n    ignoreErrors: [/^Network Error$/i, /^Script error\\.?$/i],\n    captureGlobalErrors: true,\n    capturePromiseErrors: true,\n    captureAjaxErrors: true,\n    captureConsoleErrors: true,\n    captureResourceErrors: true,\n    maxErrorsPerMinute: 30\n  },\n  performanceConfig: {\n    capturePageLoad: true,\n    capturePaint: true,\n    captureMemory: true,\n    captureFrameRate: false,\n    captureFirstContentfulPaint: true,\n    captureLargestContentfulPaint: true,\n    captureFirstInputDelay: true,\n    captureCumulativeLayoutShift: true,\n    resourceTiming: true,\n    longTaskThreshold: 50\n  },\n  whiteScreenConfig: {\n    enabled: true,\n    timeout: 5000,\n    minValidElements: 5,\n    validSelectors: ['div', 'p', 'img', 'button', 'a'],\n    checkInterval: 1000\n  },\n  fallbackConfig: {\n    enabled: true,\n    fallbackUrl: '/error',\n    errorThreshold: 3,\n    timeWindow: 60000\n  },\n  routeConfig: {\n    enabled: false,\n    captureParams: false,\n    captureQuery: true,\n    captureHash: false\n  },\n  stateConfig: {\n    enabled: false,\n    captureActions: true,\n    captureMutations: true,\n    captureState: true,\n    stateSnapshotInterval: 30000,\n    maxStateSize: 100000\n  },\n  sourceMapConfig: {\n    enabled: true,\n    uploadSourceMap: false,\n    stripProjectRoot: '',\n    includeSourceContent: false\n  },\n  debug: false\n}\n","import { App } from 'vue'\nimport { ErrorMonitor } from './core/errorMonitor'\nimport { PerformanceMonitor } from './core/performanceMonitor'\nimport { RouteMonitor } from './core/routeMonitor'\nimport { StateMonitor } from './core/stateMonitor'\nimport { ReportService } from './services/reportService'\nimport { SourceMapService } from './services/sourceMapService'\nimport { FallbackService } from './services/fallbackService'\nimport { WhiteScreenDetector } from './services/whiteScreenDetector'\nimport { TraceManager } from './utils/traceManager'\nimport { Config, defaultConfig } from './types/config'\n\nexport { ErrorMonitor, PerformanceMonitor, RouteMonitor, StateMonitor, ReportService }\n\nexport default {\n  install(app: App, userConfig: Partial<Config> = {}) {\n    const config = { ...defaultConfig, ...userConfig }\n\n    // 初始化 TraceID 管理器\n    const traceManager = new TraceManager()\n    app.provide('traceManager', traceManager)\n\n    // 初始化上报服务\n    const reportService = new ReportService(config.reportConfig)\n    app.provide('reportService', reportService)\n\n    // 初始化 SourceMap 服务\n    const sourceMapService = new SourceMapService(config.sourceMapConfig)\n    app.provide('sourceMapService', sourceMapService)\n\n    // 初始化错误监控\n    const errorMonitor = new ErrorMonitor(app, reportService, sourceMapService, config.errorConfig)\n    app.provide('errorMonitor', errorMonitor)\n\n    // 初始化性能监控\n    const performanceMonitor = new PerformanceMonitor(reportService, config.performanceConfig)\n    app.provide('performanceMonitor', performanceMonitor)\n\n    // 初始化白屏检测\n    if (config.whiteScreenConfig.enabled) {\n      const whiteScreenDetector = new WhiteScreenDetector(reportService, config.whiteScreenConfig)\n      app.provide('whiteScreenDetector', whiteScreenDetector)\n    }\n\n    // 初始化 Fallback 服务\n    if (config.fallbackConfig.enabled) {\n      const fallbackService = new FallbackService(config.fallbackConfig)\n      app.provide('fallbackService', fallbackService)\n    }\n\n    // 初始化路由监控\n    if (config.routeConfig.enabled && config.routeConfig.router) {\n      const routeMonitor = new RouteMonitor(config.routeConfig.router, reportService, traceManager, config.routeConfig)\n      app.provide('routeMonitor', routeMonitor)\n    }\n\n    // 初始化状态管理监控\n    if (config.stateConfig.enabled) {\n      const stateMonitor = new StateMonitor(reportService, config.stateConfig)\n      app.provide('stateMonitor', stateMonitor)\n    }\n\n    // 全局错误处理组件\n    app.component('ErrorBoundary', {\n      // 实现在 components/ErrorBoundary.ts\n    })\n\n    // 全局 mixin 用于组件级错误捕获\n    app.mixin({\n      errorCaptured(err, instance, info) {\n        errorMonitor.handleComponentError(err as Error, instance, info)\n        return false // 阻止错误继续传播\n      }\n    })\n  }\n}\n"],"names":["getErrorInfo","error","Error","message","name","stack","String","generateErrorId","errorInfo","locationMatch","split","match","errorLocation","str","hash","length","toString","i","charCodeAt","Math","abs","hashString","substring","filter","Boolean","join","ErrorMonitor","constructor","app","reportService","sourceMapService","config","this","errorCount","Map","errorCountResetInterval","window","setInterval","clear","globalProperties","$errorMonitor","init","captureGlobalErrors","setupGlobalErrorHandler","capturePromiseErrors","setupPromiseErrorHandler","captureAjaxErrors","setupAjaxErrorHandler","captureResourceErrors","setupResourceErrorHandler","addEventListener","event","isResourceError","handleJsError","filename","lineno","colno","reason","type","originalXhrOpen","XMLHttpRequest","prototype","open","originalXhrSend","send","originalFetch","fetch","self","method","url","async","username","password","_url","_method","apply","args","handleNetworkError","status","statusText","timeout","_a","catch","target","tagName","toLowerCase","handleResourceError","src","href","getAttribute","id","className","HTMLElement","context","shouldIgnoreError","isRateLimited","processAndReportError","handleComponentError","instance","info","componentName","$options","lifecycleHook","componentData","sanitizeComponentData","$data","errorId","stackFrames","isEnabled","mapStackTrace","e","console","reportData","location","userAgent","navigator","timestamp","Date","toISOString","reportError","ignoreErrors","some","pattern","RegExp","test","includes","count","get","set","maxErrorsPerMinute","data","JSON","parse","stringify","Object","keys","reduce","acc","key","value","destroy","clearInterval","PerformanceMonitor","metricsInterval","frameRateInterval","longTaskObserver","resourceObserver","capturePageLoad","capturePageLoadMetrics","capturePaint","capturePaintMetrics","captureMemory","startMemoryMonitoring","captureFrameRate","startFrameRateMonitoring","resourceTiming","observeResourceTiming","observeLongTasks","captureWebVitals","setTimeout","perfData","performance","timing","pageLoadTime","loadEventEnd","navigationStart","dnsTime","domainLookupEnd","domainLookupStart","tcpTime","connectEnd","connectStart","ttfb","responseStart","requestStart","domReadyTime","domContentLoadedEventEnd","domInteractive","reportPerformance","metrics","PerformanceObserver","list","getEntries","forEach","entry","startTime","observe","entryTypes","memory","memoryInfo","jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize","lastTime","now","frames","calculateFPS","delta","fps","round","requestAnimationFrame","initiatorType","duration","transferSize","decodedBodySize","longTaskThreshold","captureFirstContentfulPaint","captureFCP","captureLargestContentfulPaint","captureLCP","captureFirstInputDelay","captureFID","captureCumulativeLayoutShift","captureCLS","fcpObserver","rating","getRating","disconnect","buffered","lcp","lcpObserver","entries","document","visibilityState","element","processingStart","clsValue","clsEntries","hadRecentInput","push","metric","RouteMonitor","router","traceManager","routeStartTime","currentRoute","beforeEach","to","from","next","traceId","generateTraceId","setTraceId","fullPath","reportRouteChange","afterEach","onError","route","getTraceId","eventType","ignorePaths","path","sanitizeRouteData","undefined","result","captureParams","params","captureQuery","query","captureHash","StateMonitor","stateSnapshotInterval","vuex","captureState","setupVuexMonitoring","pinia","setupPiniaMonitoring","startStateSnapshotCapture","store","captureActions","subscribeAction","before","action","reportStateChange","payload","after","reportStateError","captureMutations","subscribe","mutation","use","$onAction","$id","$subscribe","events","stateSnapshot","sanitizeState","state","storeId","sanitizePayload","serialized","maxStateSize","_truncated","_size","_keys","_error","_type","ReportService","queue","sending","batchInterval","offlineQueue","isOnline","onLine","batchReport","processBatch","handleOnline","bind","handleOffline","handleBeforeUnload","random","sampleRate","reportLevel","level","reportItem","generateId","appId","appVersion","environment","category","retryCount","beforeReport","processedData","sendToIntegrations","batchSize","sendReport","batch","splice","sendBatchReport","item","maxRetryCount","unshift","finally","response","endpoint","headers","body","map","keepalive","ok","useBeacon","sendBeacon","blob","Blob","retryInterval","offlineItems","integrations","sentry","enabled","Sentry","captureException","extra","_b","logRocket","LogRocket","_c","aliyunSls","AliyunSLS","project","logstore","time","floor","contents","flattenObject","obj","prefix","hasOwnProperty","call","newKey","assign","substr","removeEventListener","exports","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","stacktrace","parseOpera","parseV8OrIE","parseFFOrSafari","extractLocation","urlLike","indexOf","parts","exec","replace","line","sanitizedLine","locationParts","functionName","fileName","lineNumber","columnNumber","source","functionNameRegex","matches","parseOpera9","parseOpera11","parseOpera10","lineRE","lines","len","argsRaw","tokens","pop","functionCall","shift","factory","require$$0","getArg","aArgs","aName","aDefaultValue","arguments","urlRegexp","dataUrlRegexp","urlParse","aUrl","scheme","auth","host","port","urlGenerate","aParsedUrl","normalize","aPath","part","isAbsolute","up","aRoot","aPathUrl","aRootUrl","joined","charAt","relative","index","lastIndexOf","slice","Array","supportsNullProto","create","identity","s","isProtoString","strcmp","aStr1","aStr2","toSetString","aStr","fromSetString","compareByOriginalPositions","mappingA","mappingB","onlyCompareOriginal","cmp","originalLine","originalColumn","generatedColumn","generatedLine","compareByGeneratedPositionsDeflated","onlyCompareGenerated","compareByGeneratedPositionsInflated","recursiveSearch","aLow","aHigh","aNeedle","aHaystack","aCompare","aBias","mid","LEAST_UPPER_BOUND","GREATEST_LOWER_BOUND","search","intToCharMap","base64","encode","number","TypeError","decode","charCode","getRandomValues","swap","ary","x","y","temp","doQuickSort","comparator","p","r","low","high","pivot","j","q","quickSort","util","binarySearch","require$$1","ArraySet","has","_array","_set","fromArray","aArray","aAllowDuplicates","add","size","getOwnPropertyNames","sStr","isDuplicate","idx","at","aIdx","toArray","arraySet","require$$2","base64VLQ","base64Vlq","aValue","digit","encoded","vlq","toVLQSigned","VLQ_BASE","aIndex","aOutParam","continuation","shifted","strLen","rest","require$$3","require$$4","SourceMapConsumer","aSourceMap","sourceMap","sections","IndexedSourceMapConsumer","BasicSourceMapConsumer","version","sources","names","sourceRoot","sourcesContent","mappings","file","_version","_names","_sources","_mappings","Mapping","lastOffset","column","_sections","offset","offsetLine","offsetColumn","generatedOffset","consumer","fromSourceMap","__generatedMappings","defineProperty","_parseMappings","__originalMappings","_charIsMappingSeparator","c","aSourceRoot","GENERATED_ORDER","ORIGINAL_ORDER","eachMapping","aCallback","aContext","aOrder","_generatedMappings","_originalMappings","mapping","allGeneratedPositionsFor","needle","_findMapping","lastColumn","sourceMapConsumer","smc","_sourceRoot","_generateSourcesContent","_file","generatedMappings","destGeneratedMappings","destOriginalMappings","srcMapping","destMapping","segment","end","previousGeneratedColumn","previousOriginalLine","previousOriginalColumn","previousSource","previousName","cachedSegments","originalMappings","aMappings","aLineName","aColumnName","aComparator","computeColumnSpans","nextMapping","lastGeneratedColumn","Infinity","originalPositionFor","hasContentsOfAllSources","sc","sourceContentFor","aSource","nullOnMissing","fileUriAbsPath","generatedPositionFor","sectionIndex","section","bias","every","content","generatedPosition","sectionMappings","adjustedMapping","SourceMap","_xdr","Promise","resolve","reject","req","onerror","onreadystatechange","readyState","responseText","_atob","b64str","atob","_parseJson","string","_findFunctionName","syntaxes","code","maxLines","min","commentPos","m","_ensureSupportedEnvironment","_ensureStackFrameIsLegit","stackframe","_findSourceMappingURL","lastSourceMappingUrl","matchSourceMappingUrl","sourceMappingUrlRegExp","_extractLocationInfoFromSourceMapSource","sourceCache","loc","mappedSource","StackTraceGPS","opts","sourceMapConsumerCache","ajax","_get","isDataUrl","offline","supportedEncodingRegexp","sourceMapStart","encodedSource","xhrPromise","then","_getSourceMapConsumer","sourceMappingURL","defaultSourceRoot","sourceMapConsumerPromise","sourceMapSource","pinpoint","getMappedLocation","mappedStackFrame","resolveMappedStackFrame","findFunctionName","guessedFunctionName","ErrorStackParser","StackGenerator","_options","_generateError","err","_merge","first","second","prop","_isShapedLikeParsableError","_filtered","stackframes","fromError","generateArtificially","getSync","backtrace","gps","all","sf","resolveOriginal","instrument","fn","callback","errback","thisArg","__stacktraceOriginalFn","instrumented","deinstrument","report","errorMsg","requestOptions","setRequestHeader","header","reportPayload","SourceMapService","StackTrace.fromError","frame","stripProjectRoot","startsWith","uploadSourceMap","sourceMapFile","sourceFile","sourceMapEndpoint","formData","FormData","append","includeSourceContent","sourceContent","readFileAsText","reader","FileReader","onload","readAsText","FallbackService","errorTimestamps","handleError","log","timeWindow","errorThreshold","redirectToFallback","pathname","fallbackUrl","sessionStorage","setItem","WhiteScreenDetector","checkInterval","hasReported","startDetection","checkForWhiteScreen","stopDetection","isPageWhiteScreen","reportWhiteScreen","validElementsCount","selector","validSelectors","querySelectorAll","minValidElements","pageInfo","screenWidth","screen","width","screenHeight","height","windowWidth","innerWidth","windowHeight","innerHeight","domContentLoaded","loadTime","htmlContent","getSafeHtmlSnapshot","html","documentElement","outerHTML","maxLength","rnds8","Uint8Array","rng","crypto","msCrypto","REGEX","validate","uuid","byteToHex","arr","v35","hashfunc","generateUUID","namespace","buf","unescape","encodeURIComponent","bytes","stringToBytes","v","parseInt","DNS","URL","getOutputLength","inputLength8","safeAdd","lsw","md5cmn","a","b","t","num","cnt","md5ff","d","md5gg","md5hh","md5ii","v4","options","rnds","f","z","ROTL","n","msg","input","output","length32","hexTab","hex","md5ToHexEncodedArray","olda","oldb","oldc","oldd","wordsToMd5","length8","Uint32Array","bytesToWords","K","H","isArray","l","N","ceil","M","_i","pow","_i2","W","_t","_t2","T","TraceManager","sessionId","pageLoadId","getOrCreateSessionId","saveSessionData","getItem","uuidv4","getSessionId","getPageLoadId","getTraceInfo","defaultConfig","reportConfig","errorConfig","captureConsoleErrors","performanceConfig","whiteScreenConfig","fallbackConfig","routeConfig","stateConfig","sourceMapConfig","debug","install","userConfig","provide","errorMonitor","performanceMonitor","whiteScreenDetector","fallbackService","routeMonitor","stateMonitor","component","mixin","errorCaptured"],"mappings":"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"}